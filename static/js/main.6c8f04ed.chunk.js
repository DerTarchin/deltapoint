(this.webpackJsonpdeltapoint=this.webpackJsonpdeltapoint||[]).push([[0],{158:function(e,t,a){},241:function(e,t,a){e.exports=a(609)},270:function(e,t,a){},373:function(e,t,a){},374:function(e,t,a){},375:function(e,t,a){},376:function(e,t,a){},377:function(e,t,a){},378:function(e,t,a){},395:function(e,t){},397:function(e,t){},407:function(e,t){},409:function(e,t){},435:function(e,t){},437:function(e,t){},438:function(e,t){},443:function(e,t){},445:function(e,t){},452:function(e,t){},454:function(e,t){},472:function(e,t){},475:function(e,t){},491:function(e,t){},494:function(e,t){},518:function(e,t){},608:function(e,t,a){e.exports=a.p+"static/media/logo.75c537f9.svg"},609:function(e,t,a){"use strict";a.r(t);var n=a(75),r=a(17),s=a(11),c=a(13),i=a(12),l=a(0),o=a.n(l),d=a(239),m=a.n(d),u=a(16),p=a(246),f=function(e,t){var a=e.substring(0,64),n=e.substring(64);if(p.HmacSHA256(n,p.SHA256(t).toString()).toString()===a){var r=p.enc.Hex.parse(n.substr(0,32)),s=p.enc.Hex.parse(n.substr(32,32)),c=n.substring(64),i=p.PBKDF2(t,r,{keySize:8,iterations:1e3});return JSON.parse(p.AES.decrypt(c,i,{iv:s,padding:p.pad.Pkcs7,mode:p.mode.CBC}).toString(p.enc.Utf8))}},v={},h=function(e,t,a){var n=a||e;v[n]={callback:e,time:performance.now()};var r=v[n].time;setTimeout((function(){if(v[n]&&r===v[n].time){var e=v[n].callback;delete v[n],e()}}),t)},y=function(e,t){for(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),a=t.length;--a>=0&&t.item(a)!==this;);return a>-1});e&&e!==document;e=e.parentNode)if(e.matches(t))return e;return null},g=function(e){return"Enter"===(e.key||e.keyCode||e.code)||13===e.which},b=function(e){return"Backspace"===(e.key||e.keyCode||e.code)||8===e.which},E=[{divider:1e18,suffix:"P"},{divider:1e15,suffix:"E"},{divider:1e12,suffix:"T"},{divider:1e9,suffix:"B"},{divider:1e6,suffix:"M"},{divider:1e3,suffix:"K"}],w=function(e){var t={};if("string"===typeof e&&(e=e.trim()),0!==e&&!e)return t;if(1===(e+"").length&&isNaN(e))return t;var a=(e+"").replace(/,/g,""),n=a[a.length-1].toUpperCase();if(n.match(/^[A-Z]+$/)?a=a.substring(0,a.length-1):n=null,isNaN(+a))return t;if(n&&!E.map((function(e){return e.suffix})).includes(n))return t;var r=n?E.find((function(e){return e.suffix===n})).divider:1,s=(+a*r+"").split(".");return s[0]=s[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),{valid:!0,string:e,number:+a,value:+a*r,comma:s.join("."),suffix:n,multiplier:r}},N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if((""+e).includes("e")){var a=(""+e).split("e"),n="";return+a[1]+t>0&&(n="+"),+(Math.round(+a[0]+"e"+n+(+a[1]+t))+"e-"+t)}return+(Math.round(e+"e+"+t)+"e-"+t)},x=function(e){return e.valid?(e.comma.includes(".")||(e.comma+=".00"),e.comma.split(".")[1].length<2&&(e.comma+="0"),e):e},M=function(e,t){return x(w(t?e:N(e,2))).comma},D={tactical:"#66ff85",conservative:"#4dffff",aggressive:"#4d9dff",rotation:"#b399ff",other:"#ff66b3",cash:"#445db1",bg:"#445db1"},S=function(e){var t=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},a=t(e),n=a.r,s=a.g,c=a.b;n/=255,s/=255,c/=255;var i,l,o=Math.max(n,s,c),d=Math.min(n,s,c),m=(o+d)/2;if(o===d)i=l=0;else{var u=o-d;switch(l=m>.5?u/(2-o-d):u/(o+d),o){case n:i=(s-c)/u+(s<c?6:0);break;case s:i=(c-n)/u+2;break;case c:i=(n-s)/u+4}i/=6}return l=Math.round(100*l),m=Math.round(100*m),i=Math.round(360*i),Object(r.a)(Object(r.a)({hex:"#".concat(e.replace("#",""))},t(e)),{},{h:i,s:l,l:m,a:1,rgbStr:function(e,t,a,n){return"rgb".concat(n||0===n?"a":"","(").concat(e,",").concat(t,",").concat(a).concat(n||0===n?",".concat(n):"",")")},hslStr:function(e,t,a,n){return"hsl".concat(n||0===n?"a":"","(").concat(e,",").concat(t,"%,").concat(a,"%").concat(n||0===n?",".concat(n):"",")")}})},C=function(e){return parseFloat(e.split(",")[e.split(",").length-1].replace(")",""))},_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"outside",a=e.r,n=e.g,r=e.b,s=e.rgbStr(a,n,r,.7),c="0px 0px 7px 0px ".concat(s),i="inset 0px 0px 7px 0px ".concat(s);return"both"===t?"".concat(i,", ").concat(c):"inside"===t?i:c},k=a(1),j=a.n(k),O=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j()(),a=arguments.length>2?arguments[2]:void 0,n={},r=t.clone();!n.data;){var s=r.format("L");e[s]&&(n={data:e[s],date:r.clone()}),r[a?"add":"subtract"](1,"days")}return n},A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j()(),a=e.history,n=e.feeAdjustments,s=O(a,t),c={},i={buys:0,sells:0,trades:0,cycles:0,fees:0,dividends:0,max_drawdown:0,max_upside:0,avg_pl_perc:0,days_in_trade:0,avg_days_in_trade:0,perc_days_in_trade:0,total_pl:0,total_pl_perc:0,sell_trades:null,current:null};return a.meta.symbols_traded.forEach((function(e){var l=e,o=Object(r.a)(Object(r.a)({},i),{},{years:{}},c[l]);delete o.perc_days_in_trade,delete o.sell_trades;for(var d,m=j()(a.meta.start_date,"L"),u=0,p=function(e,t){return(e.avg_days_in_trade*e.cycles+m.diff(t.since,"days")+1)/(e.cycles+1)};m.isSameOrBefore(t,"days");){m.year()in o.years||(o.years[m.year()]=Object(r.a)({},i),delete o.years[m.year()].current);var f=o.years[m.year()],v=a[m.format("L")];if(v){var h=(v.transactions||[]).filter((function(t){return t.symbol===e})),y=v.positions[e];y&&(o.current=Object(r.a)(Object(r.a)({max_upside:0,max_drawdown:0,days_in_trade:0},o.current),y)),!y&&d&&(o.current=null);var g=0;if(n){var b=a.meta.commission.filter((function(e){return j()(e[0],"L").isSameOrBefore(m)}));g=b[b.length-1][1]}for(var E=[],w=[],N=0;N<h.length;N++){var x=h[N];["buy","sell"].includes(x.type)&&(o.trades++,f.trades++),"buy"===x.type&&(E.push(x),o.buys+=x.amount+g,f.buys+=x.amount+g,o.fees+=x.commission+x.reg_fee,f.fees+=x.commission+x.reg_fee),"sell"===x.type&&(u++,w.push(x),y||(d&&(o.avg_days_in_trade=p(o,d),f.avg_days_in_trade=p(f,d)),o.cycles++,f.cycles++),o.sells+=x.amount+g,f.sells+=x.amount+g,o.fees+=x.commission+x.reg_fee,f.fees+=x.commission+x.reg_fee),"dividend"===x.type&&(o.dividends+=x.amount,f.dividends+=x.amount,o.sells+=x.amount,f.sells+=x.amount)}if(y||E.length||w.length){var M=function(e,t,a){if("h"===a)return e.reduce((function(e,t){return Math.max(e,t.h||0)}),0);if("l"===a)return e.reduce((function(e,t){return Math.min(e,t.l||0)}),Number.MAX_SAFE_INTEGER);var n=e.reduce((function(e,t){return e+t.shares}),0),r=e.reduce((function(e,a){return e+(t?a.shares*a.price:a.amount)}),0);return Math.abs(r/n)},D=(y||d||{}).avg||M(E),S=(y||d||{}).avg||M(E,!0),C=y?y.c:M(w),_=y?y.h:M(w,null,"h"),k=y?y.l:M(w,null,"l");y&&(o.days_in_trade++,f.days_in_trade++,f.perc_days_in_trade=100*f.days_in_trade/365,o.current.days_in_trade++);var O=100*(_-S)/S;o.max_upside=Math.max(o.max_upside,O),f.max_upside=Math.max(f.max_upside,O),y&&(o.current.max_upside=Math.max(o.current.max_upside,O)),O=100*(k-S)/S,o.max_drawdown=Math.min(o.max_drawdown,O),f.max_drawdown=Math.min(f.max_drawdown,O),y&&(o.current.max_drawdown=Math.min(o.current.max_drawdown,O)),O=100*(C-D)/D;for(var A=0;A<w.length;A++)f.sell_trades||(f.sell_trades=[]),o.avg_pl_perc=(o.avg_pl_perc*(u-1)+O)/u,f.avg_pl_perc=(f.avg_pl_perc*f.sell_trades.length+O)/(f.sell_trades.length+1),f.sell_trades.push([w[A],D,O])}m.isSame(s.date,"days")&&function(){y&&(o.sells+=y.shares*y.c,f.sells+=y.shares*y.c),Object.keys(o.years).forEach((function(n){var r=j()("1/1/".concat(n),"L");if(r.isBefore(t)){for(;!a[r.format("L")];)r.add(1,"days");var s=a[r.format("L")].positions[e];if(s){var c=s.shares;(a[r.format("L")].transactions||[]).forEach((function(t){t.symbol===e&&"buy"===t.type&&(c-=t.shares)})),o.years[n].buys-=c*s.c}}if((r=j()("12/31/".concat(n),"L")).isBefore(t)){for(;!a[r.format("L")];)r.subtract(1,"days");var i=a[r.format("L")].positions[e];i&&(o.years[n].sells+=i.shares*i.c)}})),o.total_pl=o.sells-Math.abs(o.buys);var n=100*o.total_pl/Math.abs(o.buys);o.total_pl_perc=n,Object.keys(o.years).forEach((function(e){var t=o.years[e];t.total_pl=t.sells-Math.abs(t.buys),n=100*t.total_pl/Math.abs(t.buys),t.total_pl_perc=n}))}(),c[l]=o,d=y,m.add(1,"days")}else m.add(1,"days"),d&&(o.days_in_trade++,f.days_in_trade++)}})),c},L=function(e){for(var t={x:0,y:0};e;)t.x+=e.offsetLeft-e.scrollLeft+e.clientLeft,t.y+=e.offsetTop-e.scrollTop+e.clientTop,e=e.offsetParent;return t},T=function(e,t){var a=(new Date).getFullYear();return e&&!t&&e.year()===a?e.format("MMM D"):e&&!t?e.format("MMM D, YYYY"):t&&!e&&t.year()===a?t.format("MMM D"):t&&!e?t.format("MMM D, YYYY"):e.year()!==t.year()||t.year()!==a?[e.format("MMM D, YYYY"),t.format("MMM D, YYYY")]:[e.format("MMM D"),t.format("MMM D")]},Y=function(e,t){var a=(new Date).getFullYear();return e&&!t?{y:e.year(),m:e.format("MMM"),M:e.format("MMMM"),d:e.format("D"),useYear:e.year()!==a}:t&&!e?{y:t.year(),m:t.format("MMM"),M:t.format("MMMM"),d:t.format("D"),useYear:t.year()!==a}:[{y:e.year(),m:e.format("MMM"),M:e.format("MMMM"),d:e.format("D"),useYear:e.year()!==t.year()},{y:t.year(),m:t.format("MMM"),M:t.format("MMMM"),d:t.format("D"),useYear:e.year()!==t.year()||t.year()!==a}]},H=function(e,t,a,n,r){return n+(e-t)/(a-t)*(r-n)},B=function(e,t,a){return e<t?t:e>a?a:e},I=function(e,t){return!(void 0!==e&&null!==e&&(t||""!==e))},P=function(e,t,a){return a!==e.state||Object.keys(t).some((function(a){return t[a]!==e.props[a]}))},U=function(e){return e?e.charAt(0).toUpperCase()+e.slice(1):e},R=function(){},V=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={html:I(e.props.defaultHtml)?e.props.html:e.props.defaultHtml},e.componentDidUpdate=function(t){var a=e.props.html;t.html!==a&&"string"===typeof a&&a!==e.state.html&&e.setState({html:a})},e.clearContent=function(){e.refs.contentEditable.innerHTML="",e.setState({html:" "},(function(){return e.setState({html:""})}))},e.focus=function(){e.refs.contentEditable.focus(),setTimeout((function(){return e.refs.contentEditable.focus()}),20)},e.focusToEnd=function(){var t,a;document.createRange?((t=document.createRange()).selectNodeContents(e.el()),t.collapse(!1),(a=window.getSelection()).removeAllRanges(),a.addRange(t)):document.selection&&((t=document.body.createTextRange()).moveToElementText(e.el()),t.collapse(!1),t.select())},e.selectAll=function(){var t=e.refs.contentEditable;window.setTimeout((function(){var e,a;t&&(window.getSelection&&document.createRange?((a=document.createRange()).selectNodeContents(t),(e=window.getSelection()).removeAllRanges(),e.addRange(a)):document.body.createTextRange&&((a=document.body.createTextRange()).moveToElementText(t),a.select()))}),1)},e.el=function(){return e.refs.contentEditable},e.text=function(){return e.refs.contentEditable.innerText||e.refs.contentEditable.textContent},e.clear=function(){return e.clearContent()},e.setText=function(t,a){e.state.html!==t?e.setState({html:t},a):a&&a()},e.onInput=function(t){t.persist();var a=e.props,n=a.allowNewLine,r=a.disableEnter,s=a.onInput,c=a.onKeyUp,i=a.onKeyPress,l=t.target.innerText||t.target.textContent;!n&&g(t)?(t.preventDefault(),r||t.target.blur(),e.setState({html:l},(function(){return(s||c||i||R)(t,l)}))):(s||c||i||R)(t,l)},e.render=function(){var t=Object(u.a)(e).props,a={},n=["allowNewLine","disableMax","whitelist","onInput","onKeyUp","onBlur","html","noPaste","onKeyPress","defaultHtml","disableEnter","placeholder","tag"];for(var s in t)n.includes(s)||(a[s]=t[s]);var c=Object(r.a)(Object(r.a)({},a),{},{ref:"contentEditable","data-placeholder":t.placeholder||t["data-placeholder"],contentEditable:!0,suppressContentEditableWarning:!0,dangerouslySetInnerHTML:{__html:e.state.html},onInput:t.onInput?e.onInput:null,onKeyUp:t.onKeyUp?e.onInput:null,onBlur:function(a){a.persist();var n=a.target.innerText||a.target.textContent;e.setState({html:n}),(t.onBlur||R)(a,n)},onPaste:function(a){a.persist(),t.noPaste&&a.preventDefault(),(t.onPaste||R)(a),setTimeout((function(){var n=e.text(),r=t["data-max"]||49;!t.disableMax&&n.length>r&&(n=n.substring(0,r),e.setState({html:n})),(t.onInput||t.onKeyPress||R)(a,n)}),1)},onKeyPress:function(e){e.persist();var a=e.target.innerText||e.target.textContent;if(t.whitelist&&e.key&&!t.whitelist.includes(e.key.toLowerCase())&&e.preventDefault(),!t.allowNewLine&&g(e)&&(e.preventDefault(),t.disableEnter||e.target.blur()),!t.disableMax&&a.length>(t["data-max"]||49)&&!b(e))return e.preventDefault();(t.onInput||t.onKeyUp)&&(t.onKeyPress||R)(e,a)}});return"span"===t.tag?o.a.createElement("span",c):o.a.createElement("div",c)},e}return a}(l.Component),F=o.a.createElement("svg",{id:"threedot",version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 32.055 32.055"},o.a.createElement("g",null,o.a.createElement("path",{d:"M3.968,12.061C1.775,12.061,0,13.835,0,16.027c0,2.192,1.773,3.967,3.968,3.967c2.189,0,3.966-1.772,3.966-3.967 C7.934,13.835,6.157,12.061,3.968,12.061z M16.233,12.061c-2.188,0-3.968,1.773-3.968,3.965c0,2.192,1.778,3.967,3.968,3.967 s3.97-1.772,3.97-3.967C20.201,13.835,18.423,12.061,16.233,12.061z M28.09,12.061c-2.192,0-3.969,1.774-3.969,3.967 c0,2.19,1.774,3.965,3.969,3.965c2.188,0,3.965-1.772,3.965-3.965S30.278,12.061,28.09,12.061z"}))),q=o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",x:"0px",y:"0px",viewBox:"0 0 245.035 245.035",width:"512px",height:"512px"},o.a.createElement("g",null,o.a.createElement("g",null,o.a.createElement("g",null,o.a.createElement("path",{d:"M27.269,123.841l95.22-84.255l95.22,84.255c6.229,6.229,16.4,6.229,22.597,0     c6.293-6.229,6.293-16.336,0.064-22.597L134.027,7.2c-3.178-3.178-7.342-4.704-11.505-4.64c-4.195-0.064-8.359,1.462-11.537,4.64     L4.672,101.244c-6.229,6.229-6.229,16.368,0,22.597S21.04,130.071,27.269,123.841z",fill:"#FFFFFF"}),o.a.createElement("path",{d:"M134.027,121.172c-3.178-3.178-7.342-4.704-11.505-4.64c-4.195-0.064-8.359,1.462-11.537,4.64     L4.672,215.184c-6.229,6.261-6.229,16.4,0,22.597c6.229,6.261,16.368,6.261,22.597,0l95.22-84.192l95.22,84.192     c6.229,6.261,16.4,6.261,22.597,0c6.229-6.198,6.229-16.336,0-22.597L134.027,121.172z",fill:"#FFFFFF"}))))),z=o.a.createElement("svg",{width:"225pt",height:"225pt",viewBox:"0 0 225 225",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",{className:"primary"},o.a.createElement("path",{d:" M 99.84 0.00 L 205.40 0.00 C 215.63 1.10 224.07 9.79 225.00 20.02 L 225.00 205.37 C 223.85 215.54 215.30 224.12 205.05 225.00 L 99.47 225.00 C 92.33 224.04 85.85 219.67 82.46 213.30 C 80.83 209.78 79.87 205.96 80.00 202.06 C 80.03 164.98 80.00 127.90 80.02 90.81 C 80.02 87.21 80.02 83.62 80.02 80.02 C 80.00 62.67 80.02 45.31 80.01 27.96 C 80.02 23.38 79.67 18.63 81.35 14.27 C 84.13 6.47 91.66 0.88 99.84 0.00 M 98.17 11.30 C 93.77 12.84 90.46 17.29 90.76 22.03 C 90.76 82.35 90.75 142.67 90.76 202.98 C 90.41 209.05 95.92 214.68 102.05 214.21 C 135.69 214.26 169.34 214.26 202.99 214.21 C 209.11 214.61 214.60 209.03 214.24 202.94 C 214.29 142.65 214.30 82.35 214.24 22.06 C 214.58 15.98 209.07 10.36 202.95 10.79 C 170.64 10.71 138.33 10.80 106.02 10.74 C 103.40 10.77 100.73 10.63 98.17 11.30 Z"}),o.a.createElement("path",{d:" M 38.90 27.05 C 36.34 23.95 38.86 18.48 42.97 18.71 C 48.66 19.07 54.31 20.04 59.97 20.76 C 62.93 20.90 65.35 23.95 64.83 26.87 C 63.97 32.58 63.46 38.35 62.49 44.04 C 61.56 48.17 55.50 49.15 53.13 45.75 C 51.49 43.71 52.15 41.04 52.33 38.66 C 43.41 45.21 35.47 52.97 28.37 61.42 C 24.43 66.12 16.68 60.03 20.05 55.04 C 27.31 45.23 36.73 37.31 46.12 29.64 C 43.61 29.21 40.46 29.51 38.90 27.05 Z"}),o.a.createElement("path",{d:" M 126.32 19.43 C 142.53 19.05 158.76 19.41 174.98 19.25 C 177.54 19.23 180.85 19.12 182.27 21.74 C 184.63 24.94 182.03 29.97 178.09 29.98 C 161.40 30.05 144.71 29.96 128.02 30.02 C 125.07 30.41 121.91 28.05 121.88 25.00 C 121.63 22.38 123.64 19.67 126.32 19.43 Z"}),o.a.createElement("path",{d:" M 148.48 167.61 C 159.26 164.76 171.01 173.85 171.08 184.99 C 171.78 195.03 162.99 204.40 152.92 204.34 C 143.64 204.83 135.01 197.26 134.05 188.07 C 132.67 178.87 139.38 169.44 148.48 167.61 M 149.38 178.49 C 144.17 180.53 142.91 188.23 147.31 191.73 C 151.63 195.92 159.68 192.90 160.32 186.95 C 161.50 181.08 154.78 175.91 149.38 178.49 Z"})),o.a.createElement("g",{className:"secondary"},o.a.createElement("path",{d:" M 7.45 85.43 C 11.63 81.58 17.37 79.85 22.99 79.99 C 42.00 80.04 61.01 80.00 80.02 80.02 C 80.02 83.62 80.02 87.21 80.02 90.81 C 60.67 90.83 41.32 90.78 21.98 90.83 C 18.02 90.60 14.21 92.81 12.22 96.19 C 10.69 98.50 10.79 101.38 10.73 104.04 C 10.83 137.02 10.71 170.00 10.79 202.98 C 10.41 209.05 15.89 214.60 21.98 214.17 C 42.09 214.21 62.20 214.18 82.31 214.19 L 82.46 213.30 C 85.85 219.67 92.33 224.04 99.47 225.00 L 17.58 225.00 C 13.54 223.49 9.35 221.84 6.36 218.60 C 3.08 215.43 1.28 211.13 0.00 206.84 L 0.00 97.56 C 1.63 93.08 3.65 88.51 7.45 85.43 Z"}),o.a.createElement("path",{d:" M 22.25 122.37 C 25.49 120.66 29.94 123.22 29.96 126.89 C 30.03 143.94 30.02 161.00 29.97 178.05 C 30.09 182.02 24.96 184.57 21.77 182.34 C 19.51 181.06 19.21 178.28 19.26 175.96 C 19.28 159.96 19.26 143.97 19.27 127.97 C 19.10 125.73 20.18 123.37 22.25 122.37 Z"}))),W=o.a.createElement("svg",{width:"532pt",height:"532pt",viewBox:"0 0 532 532",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",null,o.a.createElement("path",{d:" M 20.53 157.47 C 31.07 150.40 44.66 147.94 56.97 151.12 C 63.64 152.56 69.51 156.21 75.14 159.90 C 138.76 200.52 202.37 241.14 265.99 281.75 C 331.04 240.21 396.10 198.69 461.16 157.15 C 465.97 153.99 471.36 151.70 477.04 150.68 C 493.47 147.13 511.49 153.85 521.88 167.00 C 527.99 174.56 531.46 184.03 532.00 193.72 L 532.00 196.99 C 531.49 209.60 525.81 221.99 516.15 230.19 C 510.80 234.69 504.64 238.05 498.84 241.91 C 429.51 286.23 360.18 330.58 290.85 374.91 C 276.23 384.61 255.76 384.65 241.15 374.91 C 168.14 328.22 95.13 281.54 22.13 234.85 C 8.90 227.24 0.54 212.36 0.00 197.21 L 0.00 192.39 C 1.30 178.55 8.64 164.97 20.53 157.47 Z"}))),$=o.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 512.005 512.005"},o.a.createElement("g",null,o.a.createElement("g",null,o.a.createElement("path",{d:"M505.749,475.587l-145.6-145.6c28.203-34.837,45.184-79.104,45.184-127.317c0-111.744-90.923-202.667-202.667-202.667 S0,90.925,0,202.669s90.923,202.667,202.667,202.667c48.213,0,92.48-16.981,127.317-45.184l145.6,145.6 c4.16,4.16,9.621,6.251,15.083,6.251s10.923-2.091,15.083-6.251C514.091,497.411,514.091,483.928,505.749,475.587z M202.667,362.669c-88.235,0-160-71.765-160-160s71.765-160,160-160s160,71.765,160,160S290.901,362.669,202.667,362.669z"})))),K=o.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"123.964px",height:"123.964px",viewBox:"0 0 123.964 123.964"},o.a.createElement("g",null,o.a.createElement("path",{d:"M121.7,57.681L83,26.881c-4-3.1-10-0.3-10,4.8v10.3c0,3.3-2.2,6.2-5.5,6.2H6c-3.3,0-6,2.4-6,5.8v16.2c0,3.2,2.7,6,6,6h61.5 c3.3,0,5.5,2.601,5.5,5.9v10.3c0,5,6,7.8,9.9,4.7l38.6-30C124.7,64.781,124.8,60.081,121.7,57.681z"}))),X=o.a.createElement("svg",{height:"512",viewBox:"0 0 512 512",width:"512",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",null,o.a.createElement("path",{d:"m276 138v109.716l72.809 72.809c7.811 7.811 7.811 20.474 0 28.284-7.811 7.811-20.474 7.81-28.284 0l-78.667-78.667c-3.751-3.75-5.858-8.838-5.858-14.142v-118c0-11.046 8.954-20 20-20s20 8.954 20 20zm58.667-138h-157.334c-41.89 0-83.217 14.722-116.284 43.478v-23.478c0-11.046-8.954-20-20-20s-20 8.954-20 20v78.667c0 11.046 9.031 20 20 20h78.667c11.046 0 20-8.954 20-20s-8.954-20-20-20h-37.833c25.314-24.405 59.485-38.667 95.45-38.667h157.333c75.727 0 137.334 61.607 137.334 137.333v157.333c0 75.727-61.607 137.334-137.333 137.334h-157.334c-75.726 0-137.333-61.607-137.333-137.333v-78.667c0-11.046-8.954-20-20-20s-20 8.954-20 20v78.667c0 97.782 79.551 177.333 177.333 177.333h157.333c97.783 0 177.334-79.551 177.334-177.333v-157.334c0-97.782-79.551-177.333-177.333-177.333z"})));a(270);var Z=function(e){return e.day()&&e.day()<6},G=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={scrubberEnd:e.props.lastDay},e.meta={},e.componentWillMount=function(){window.addEventListener("resize",e.handleResize),window.addEventListener("keydown",e.handleKey)},e.componentDidMount=function(){e.drawScrubber()},e.componentDidUpdate=function(t){t.headerIndex!==e.props.headerIndex&&1===e.props.headerIndex&&(e.meta.weekdays=null,e.setState({scrubberEnd:e.meta.activeScrubberEnd||e.props.lastDay},e.drawScrubber))},e.componentWillUnmount=function(){window.removeEventListener("resize",e.handleResize),window.removeEventListener("keydown",e.handleKey)},e.handleResize=function(t){e.meta.canvas=null,setTimeout((function(){e.meta.canvas||e.drawScrubber()}),50)},e.drawScrubber=function(){if(1===e.props.headerIndex){var t=e.refs.canvas,a=t.getBoundingClientRect(),n=e.meta.weekdays||function(){for(var t=[],a=e.state.scrubberEnd.clone();t.length<90&&a.isSameOrAfter(j()(e.props.data.meta.start_date,"L"),"days");)Z(a)&&t.unshift(a.format("L")),a.subtract(1,"days");return e.meta.weekdays=t,e.forceUpdate(),t}(),r=e.meta.canvas||function(){var n=window.devicePixelRatio||1;return t.width=a.width*n,t.height=a.height*n,e.meta.canvas=t.getContext("2d"),e.meta.canvas.scale(n,n),e.meta.canvas}();r.clearRect(0,0,t.width,t.height);var s=e.calcTickDistance();n.forEach((function(t,n){r.lineWidth=2,r.beginPath();var c=e.meta.propActiveDates||e.props.activeDates;n===e.meta.canvasHighlight||[c[0].format("L"),c[1].format("L")].includes(t)?(r.strokeStyle="#fff",r.moveTo(s*n+2,.25*a.height),r.lineTo(s*n+2,a.height)):j()(t,"L").isBetween(c[0],c[1])?(r.strokeStyle="rgba(255,255,255,0.5)",r.moveTo(s*n+2,.25*a.height),r.lineTo(s*n+2,.75*a.height)):(r.strokeStyle="rgba(255,255,255,0.2)",r.moveTo(s*n+2,.25*a.height),r.lineTo(s*n+2,.75*a.height)),r.stroke()}))}},e.calcTickDistance=function(){var t=e.meta.weekdays.length,a=e.refs.canvas.getBoundingClientRect(),n=a.width/t;return(a.width+n-4)/t},e.scrub=function(t){var a,n=e.refs,r=n.canvas,s=n.dates,c=150;if(t.target===r&&"mouseleave"!==t.type){var i=e.calcTickDistance(),l=L(r);l.y=l.y-e.refs.container.clientHeight;var o=Math.min(Math.floor((t.pageX-l.x+1)/i),e.meta.weekdays.length-1),d=j()(e.meta.weekdays[o],"L");if(s.innerHTML=e.renderDates([d,d]),e.meta.canvasHighlight===o)return;e.meta.propActiveDates||(e.meta.propActiveDates=e.props.activeDates,e.meta.propActiveDateOpt=e.props.activeDateOpt),a=function(){return e.props.onDateChange("range",[d,d])},e.meta.canvasHighlight=o,e.drawScrubber()}else if(e.meta.canvasHighlight>-1){e.meta.canvasHighlight=-1,e.drawScrubber();var m=e.meta,u=m.propActiveDateOpt,p=m.propActiveDates;s.innerHTML=e.renderDates(p),a=u>-1?function(){return e.props.onDateChange("opt",u)}:function(){return e.props.onDateChange("range",p)},c=0,e.meta.propActiveDateOpt=-1,e.meta.propActiveDates=null}a&&h(a,c,"date-scrubber")},e.scrubSelect=function(t){var a=j()(e.meta.weekdays[e.meta.canvasHighlight],"L"),n=e.meta.propActiveDates;n[0]===n[1]&&a.format("L")===n[0].format("L")||(n[0]===n[1]?n[0].isBefore(a)?(e.meta.propActiveDates=[n[0],a],e.meta.activeScrubberEnd=e.state.scrubberEnd):e.meta.propActiveDates=[a,n[0]]:(e.meta.propActiveDates=[a,a],e.meta.activeScrubberEnd=e.state.scrubberEnd),e.meta.propActiveDateOpt=-1,e.props.onDateChange("range",e.meta.propActiveDates),e.drawScrubber())},e.scrubAdjust=function(t){e.meta.weekdays=null;for(var a=j()(e.state.scrubberEnd.format("L"),"L"),n=t.currentTarget===e.refs.scrubBackwards?-1:1,r=0;r<89&&a[n<0?"isSameOrBefore":"isBefore"](e.props.lastDay,"days");)Z(a)&&r++,a.add(n,"days");if(n<0){for(var s=0,c=a.clone();s<90&&c.isSameOrAfter(j()(e.props.data.meta.start_date,"L"),"days");)Z(c)&&s++,c.subtract(1,"days");if(s<90)for(r=0,a=j()(e.props.data.meta.start_date,"L");r<89&&a.isSameOrBefore(e.props.lastDay,"days");)Z(a)&&r++,a.add(1,"days")}e.setState({scrubberEnd:a},e.drawScrubber)},e.renderDates=function(t){var a=t||e.props.activeDates,n=T(a[0],a[1]);return n[0]===n[1]?n[0]:"".concat(n[0]," - ").concat(n[1])},e.render=function(){var t=e.meta.weekdays;return o.a.createElement("div",{ref:"container",className:"scrubber-container",onMouseMove:e.scrub,onMouseLeave:e.scrub},o.a.createElement("div",{className:"scrubber"},o.a.createElement("div",{className:"dates",ref:"dates"},e.renderDates()),o.a.createElement("canvas",{ref:"canvas",onClick:e.scrubSelect}),o.a.createElement("div",{className:"arrow backwards ".concat(t&&t[0]===e.props.data.meta.start_date?"disabled":""),ref:"scrubBackwards",onClick:e.scrubAdjust},o.a.createElement("span",{className:"clickitem"},q)),o.a.createElement("div",{className:"arrow forwards ".concat(t&&t[t.length-1]===e.props.lastDay.format("L")?"disabled":""),ref:"scrubForwards",onClick:e.scrubAdjust},o.a.createElement("span",{className:"clickitem"},q)),t?[o.a.createElement("div",{key:"from",className:"from"},T(j()(t[0],"L"),j()(t[t.length-1],"L"))[0]),o.a.createElement("div",{key:"to",className:"to"},T(j()(t[0],"L"),j()(t[t.length-1],"L"))[1])]:null))},e}return a}(l.Component),J=a(240);a(366),a(372);a(373);var Q=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={},e.meta={},e.componentDidMount=function(){e.calcData(),e.refs.chart&&e.refs.chart.addEventListener("touchmove",(function(e){return e.stopPropagation()}),{passive:!1})},e.shouldComponentUpdate=P.bind(Object(u.a)(e),Object(u.a)(e)),e.componentDidUpdate=function(t){var a=!1;t.data!==e.props.data&&(a=!0),t.dataView!==e.props.dataView&&(a=!0),t.feeAdjustments!==e.props.feeAdjustments&&(a=!0),t.contributionAdjustments!==e.props.contributionAdjustments&&(a=!0),a&&e.calcData()},e.calcData=function(){var t=e.props,a=(t.history,t.activeDates),n=t.data,r=t.dataView,s=t.mobile;if(!a[0].isSame(a[1])){var c=Object.keys(n).filter((function(e){return"meta"!==e&&n[e]})),i="$"===r?"balance":"plPerc",l=n[c[0]].adj[i]<n[c[c.length-1]].adj[i]?D.conservative:D.other,o=S(l),d=c.reduce((function(e,t){return Math.min(e,n[t].adj[i])}),n[c[0]].adj[i]),m=c.reduce((function(e,t){return Math.max(e,n[t].adj[i])}),n[c[0]].adj[i]);d-=Math.abs(m-d)/10,m+=Math.abs(m-d)/10;var u={labels:c,datasets:[{outerGlowColor:o.rgbStr(o.r,o.g,o.b,.5),outerGlowWidth:5,data:c.map((function(e){return n[e].adj[i]}))}]},p=.4,f=1;c.length>200&&(p=.25,f=0),c.length>400&&(p=.01);var v={responsive:!0,maintainAspectRatio:!1,legend:!1,events:["mousemove","mouseout","click","touchstart","touchmove","touchend"],elements:{line:{tension:p,borderCapStyle:"round",fill:!1,borderColor:l,borderWidth:3,borderDash:[],borderDashOffset:0,borderJoinStyle:"miter"},point:{radius:f,backgroundColor:"white",borderColor:"rgba(0,0,0,0)",hoverBorderColor:"rgba(0,0,0,0)",hoverBackgroundColor:"white"}},annotation:{annotations:[{type:"line",mode:"horizontal",scaleID:"y-axis-0",value:0,borderColor:"hsla(220, 39%, 65%, .3)",borderWidth:2,drawTime:"beforeDatasetsDraw"}]},layout:{padding:10},scales:{yAxes:[{gridLines:{display:!1,drawBorder:!1},ticks:{min:d,max:m},scaleID:"y-axis-0",display:!1}],xAxes:[{gridLines:{display:!1,drawBorder:!1},display:!1}]},hover:{intersect:!1,mode:"index",animationDuration:.01},tooltips:{enabled:!1,intersect:!1,mode:"index",custom:function(e){var t=document.getElementById("chartjs-tooltip");if(t||((t=document.createElement("div")).classList.add("portfolio-tooltip"),t.id="chartjs-tooltip",t.innerHTML="<section></section>",document.body.appendChild(t)),0!==e.opacity){if(t.classList.remove("above","below","no-transform"),e.yAlign?t.classList.add(e.yAlign):t.classList.add("no-transform"),e.body){var a="";(e.title||[]).forEach((function(e){a+='<div class="title">'+T(j()(e,"L"))+"</div>"})),e.body.map((function(e){return e.lines})).forEach((function(e,t){var n=e[0];"$"===r&&(a+='<div class="value">$'.concat(M(n),"</div>")),"%"===r&&(a+='<div class="value">'.concat(N(n,Math.abs(n)<1?2:Math.abs(n)<10?1:0),"%</div>"))})),t.querySelector("section").innerHTML=a}var n,c,i=document.getElementById("portfolio").querySelector("canvas"),l={};if(i&&(l=i.getBoundingClientRect()),t.style.opacity=1,!s&&window.innerWidth>767){n=(l.left||0)+window.pageXOffset+e.caretX+25,c=(l.top||0)+window.pageYOffset+e.caretY+25}else{var o=t.getBoundingClientRect();c=(l.top||0)-o.height,!s&&c<70&&(c=l.top+l.height),n=B((l.left||0)+window.pageXOffset+e.caretX-o.width/2,15,window.innerWidth-15-o.width)}t.style.left=B(n,15,window.innerWidth-15)+"px",t.style.top=c+"px"}else t.style.opacity=0}}};e.setState({chartData:u,chartOptions:v})}},e.render=function(){var t=e.state,a=t.chartData,n=t.chartOptions;return o.a.createElement("div",{className:"tile-container",id:"portfolio"},o.a.createElement("div",{className:"tile"},o.a.createElement("div",{className:"header"},o.a.createElement("div",{className:"title"},"Portfolio")),o.a.createElement("div",{className:"body"},o.a.createElement("div",{className:"chart-wrapper",ref:"chart"},a&&n&&o.a.createElement(J.Line,{data:a,options:n})))))},e}return a}(l.Component),ee=a(9),te=a(23);a(374);var ae=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={},e.meta={},e.shouldComponentUpdate=P.bind(Object(u.a)(e),Object(u.a)(e)),e.componentDidUpdate=function(t){var a=e.refs,n=a.balance,r=a.ytd,s=a.pl;if(document.getElementById("balances").querySelectorAll("[data-val]").forEach((function(e){w(e.getAttribute("data-val")).valid||e.setAttribute("data-val",e.textContent)})),!e.state.showData&&!t.mobile){var c=O(t.data,t.activeDates[1]).data,i=O(e.props.data,e.props.activeDates[1]).data,l="%"===e.props.dataView,o=!1;if(c.adj.balance!==i.adj.balance&&(o=!0),c.ytd_contributions!==i.ytd_contributions&&(o=!0),c.adj.pl!==i.adj.pl&&(o=!0),t.feeAdjustments!==e.props.feeAdjustments&&(o=!0),t.contributionAdjustments!==e.props.contributionAdjustments&&(o=!0),o){var d={balance_from:w(Object(ee.a)(n.querySelectorAll("[data-val]")).map((function(e){return e.getAttribute("data-val")})).join(".")).value,ytd_from:w(r.querySelector("[data-val]").getAttribute("data-val")).value,pl_from:w(Object(ee.a)(s.querySelectorAll("[data-val]")).map((function(e){return e.getAttribute("data-val")})).join(".")).value},m=w(N(i.ytd_contributions,2)),u=w(N(e.getMaxContributions(e.props.activeDates[1]),2)),p=100*m.value/u.value;N(p,0);e.meta.valAnims&&e.meta.valAnims.pause(),e.meta.valAnims=Object(te.a)({targets:d,balance_from:i.adj.balance,ytd_from:l?N(100*i.ytd_contributions/e.getMaxContributions(e.props.activeDates[1]),0):i.ytd_contributions,pl_from:l?i.adj.plPerc:i.adj.pl,easing:"easeOutExpo",duration:1e3,update:function(){if(e.props.dataView===t.dataView){if(d.balance_from_history!==d.balance_from){var a=n.querySelectorAll("[data-val]");x(w(N(d.balance_from,2))).comma.split(".").forEach((function(e,t){a[t].innerHTML=e,a[t].setAttribute("data-val",e)}))}if(d.ytd_from_history!==d.ytd_from){var c=w(N(d.ytd_from,0));r.querySelector("[data-val]").innerHTML=c.comma,r.querySelector("[data-val]").setAttribute("data-val",c.comma)}if(d.pl_from_history!==d.pl_from)if(l){var o=N(d.pl_from,2);Math.abs(i.adj.plPerc)>=1&&(o=N(o,1)),Math.abs(i.adj.plPerc)>=10&&(o=N(o,0)),s.querySelector("[data-val]").innerHTML=o,s.querySelector("[data-val]").setAttribute("data-val",o)}else{var m=x(w(N(d.pl_from,2))),u=s.querySelectorAll("[data-val]");m.comma.split(".").forEach((function(e,t){u[t].innerHTML=e,u[t].setAttribute("data-val",e)}))}d.balance_from_history=d.balance_from,d.ytd_from_history=d.ytd_from,d.pl_from_history=d.pl_from}}})}}},e.getMaxContributions=function(t){for(var a,n=e.props.data.meta.max_contribution,r=t.year();!a;){for(var s=0;s<n.length;s++)n[s][0]===r&&(a=n[s]);r--}return a[1]},e.render=function(){var t=e.props,a=t.data,n=t.activeDates,r=t.dataView,s=t.mobile,c=e.state.showData,i="%"===r,l=O(a,n[1]).data,d=w(N(l.adj.balance,2)),m=w(N(l.ytd_contributions,2)),u=w(N(e.getMaxContributions(n[1]),2)),p=100*m.value/u.value,f=N(p,0),v=w(N(l.vts_fees,2)),h=w(N(l.adj.total_contributions+v.value,2)),y=w(N(l.adj.pl,2)),g=N(l.adj.plPerc,Math.abs(l.adj.plPerc)<1?2:Math.abs(l.adj.plPerc)<10?1:0),b=100*Math.abs(y.value)/(y.value+h.value);[d,y].map(x);for(var E=a.meta.commission.length-1,C=a.meta.commission[E];j()(C[0],"L").isAfter(n[1]);)E--,C=a.meta.commission[E];return o.a.createElement("div",{className:"tile-container",id:"balances"},o.a.createElement("div",{className:"tile ".concat(c?"show-data":""),onClick:s?function(t){return e.setState({showData:!c})}:null},s?null:o.a.createElement("div",{className:"data-toggle",onClick:function(t){return e.setState({showData:!c})}},c?o.a.createElement("span",null,"+"):F),o.a.createElement("div",{className:"header"},o.a.createElement("div",{className:"title"},"Balances")),o.a.createElement("div",{className:"body"},o.a.createElement("div",{className:"main"},o.a.createElement("div",{className:"balance",ref:"balance"},o.a.createElement("span",null,o.a.createElement("span",{className:"dsign"},"$"),o.a.createElement("span",{"data-val":!0},d.comma.split(".")[0])),o.a.createElement("small",null,".",o.a.createElement("span",{"data-val":!0},d.comma.split(".")[1]))),o.a.createElement("div",{className:"stats"},o.a.createElement("div",{className:"stat"},i?o.a.createElement("div",{className:"val",ref:"ytd"},o.a.createElement("span",{"data-val":!0},f),o.a.createElement("span",{className:"psign"},"%")):o.a.createElement("div",{className:"val",ref:"ytd"},o.a.createElement("span",{className:"dsign"},"$"),o.a.createElement("span",{"data-val":!0},m.comma)),o.a.createElement("div",{className:"title"},"YTD Contributions"),o.a.createElement("div",{className:"range"},o.a.createElement("div",{style:{width:p+"%",background:D.rotation,boxShadow:_(S(D.rotation))}})),o.a.createElement("div",{className:"details"},i?o.a.createElement("span",null,o.a.createElement("span",{className:"dsign"},"$"),m.comma," of max"):o.a.createElement("span",null,f,o.a.createElement("span",{className:"psign"},"%"),"of max"),o.a.createElement("span",null,o.a.createElement("span",{className:"dsign"},"$"),u.comma))),o.a.createElement("div",{className:"stat"},i?o.a.createElement("div",{className:"val",ref:"pl"}," ",o.a.createElement("span",{"data-val":!0},g),o.a.createElement("span",{className:"psign"},"%")," "):o.a.createElement("div",{className:"val",ref:"pl"},o.a.createElement("span",null,o.a.createElement("span",{className:"dsign"},"$"),o.a.createElement("span",{"data-val":!0},y.comma.split(".")[0])),o.a.createElement("small",null,".",o.a.createElement("span",{"data-val":!0},y.comma.split(".")[1]))),o.a.createElement("div",{className:"title"},s?"P/L":"Earnings"," vs Principle"),o.a.createElement("div",{className:"range"},o.a.createElement("div",{style:{width:b+"%",background:y.value<0?D.other:D.conservative,boxShadow:_(S(y.value<0?D.other:D.conservative))}})),o.a.createElement("div",{className:"details"},o.a.createElement("span",null,i?o.a.createElement("span",{className:"dsign"},"$"):null,i?y.comma.replace(s?"":"-",""):Math.abs(g),i?null:o.a.createElement("span",{className:"psign"},"%"),i?" ":null,s&&i?null:g>=0?"profit":"loss"),o.a.createElement("span",null,o.a.createElement("span",{className:"dsign"},"$"),h.comma))))),o.a.createElement("div",{className:"data"},o.a.createElement("table",null,o.a.createElement("tbody",null,o.a.createElement("tr",{className:"label-row"},o.a.createElement("td",null,"Balance"),o.a.createElement("td",null,"YTD ",s?"Contrib.":"Contributions"),o.a.createElement("td",null,"Total Fees")),o.a.createElement("tr",{className:"data-row"},o.a.createElement("td",null,"$",d.comma),o.a.createElement("td",null,"$",m.comma),o.a.createElement("td",null,"$",M(N(l.total_fees,2),2))),o.a.createElement("tr",{className:"label-row"},o.a.createElement("td",null,"P/L"),o.a.createElement("td",null,"Total ",s?"Contrib.":"Contributions"),o.a.createElement("td",null,"VTS Fees")),o.a.createElement("tr",{className:"data-row"},o.a.createElement("td",null,"$",y.comma),o.a.createElement("td",null,"$",w(h.value-v.value).comma),o.a.createElement("td",null,"$",v.comma)),o.a.createElement("tr",{className:"label-row"},o.a.createElement("td",null,"P/L %"),o.a.createElement("td",null,"Max ",s?"Contrib.":"Contributions"),o.a.createElement("td",null,"Account Age")),o.a.createElement("tr",{className:"data-row"},o.a.createElement("td",null,g,"%"),o.a.createElement("td",null,"$",u.comma),o.a.createElement("td",null,function(){var e=j()(a.meta.start_date,"L"),t=n[1].diff(e,"days"),r=Math.floor(t/30,0),s=Math.floor(r/12,0);if(t<=31)return"".concat(t," day").concat(1!==t?"s":"");if(r<=12)return"".concat(r," month").concat(1!==r?"s":"");var c="".concat(s," year").concat(1!==s?"s":"");return s<5&&r%12>0&&(c.replace("years","yr").replace("year","yr"),c+=", ".concat(r%12," mo")),c}()))))))))},e}return a}(l.Component);a(375);var ne=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={bars:[]},e.meta={},e.componentDidMount=function(){e.calcData(),e.refs.bars&&e.refs.bars.addEventListener("touchmove",(function(e){return e.stopPropagation()}),{passive:!1})},e.shouldComponentUpdate=P.bind(Object(u.a)(e),Object(u.a)(e)),e.componentDidUpdate=function(t){var a=!1;t.data!==e.props.data&&(a=!0),t.dataView!==e.props.dataView&&(a=!0),t.feeAdjustments!==e.props.feeAdjustments&&(a=!0),t.contributionAdjustments!==e.props.contributionAdjustments&&(a=!0),a&&e.calcData()},e.calcData=function(){for(var t=e.props,a=t.history,n=t.activeDates,r=j()(e.props.data.meta.start_date),s=[],c=O(e.props.history,n[1].clone()).date,i=c.isSame(r)?c:O(e.props.history,c.clone().subtract(1,"days")).date;s.length<30;)c.isSame(i)?s.push({range:0}):function(){var t=c.format("L"),n=i.format("L"),l=a[n].adj.balance;(a[t].transactions||[]).find((function(e){return"transfer"===e.type}))&&(l+=a[t].transactions.filter((function(e){return"transfer"===e.type})).reduce((function(e,t){return e+t.amount}),0));var o=a[t].adj.cash_balance,d=a[t].adj.cash_balance,m=a[t].positions;Object.keys(a[t].positions||{}).forEach((function(e){o+=m[e].h*m[e].shares,d+=m[e].l*m[e].shares})),o=Math.max(o,l),d=Math.min(d,l),s.push({range:o-d,date:c}),c=i.clone(),i.isAfter(r)&&(i=O(e.props.history,i.subtract(1,"days")).date)}();e.setState({bars:s})},e.render=function(){var t=e.state.bars,a=t.reduce((function(e,t){return Math.max(e,t.range)}),0);return o.a.createElement("div",{className:"tile-container",id:"volatility"},o.a.createElement("div",{className:"tile"},o.a.createElement("div",{className:"header"},o.a.createElement("div",{className:"title"},"Volatility")),o.a.createElement("div",{className:"body"},o.a.createElement("div",{className:"bars hide-scroll",ref:"bars"},t.map((function(e,t){var n=H(e.range,0,a,0,100)||0;return o.a.createElement("div",{className:"bar",key:t,style:{height:"".concat(n,"%")}})}))))))},e}return a}(l.Component);a(376);var re={tactical:{tickers:["mdy","mvv","ief","ust","gld"],label:"VTS Tactical",allocation:.27},aggressive:{tickers:["svxy","vixy"],label:"VTS Aggressive",allocation:.18},conservative:{tickers:["ziv","spy","sso","spxl","tlt","vxx"],label:"VTS Conservative",allocation:.18},rotation:{tickers:["vpu","vig","vglt"],label:"VTS Defensive Rotation",allocation:.27}},se=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={key:null,showData:!1,tradeDetails:{}},e.meta={},e.componentWillMount=function(){window.addEventListener("resize",e.resizeGraphs),e.calcTradeDetails()},e.shouldComponentUpdate=P.bind(Object(u.a)(e),Object(u.a)(e)),e.componentDidMount=function(){e.resizeGraphs()},e.componentDidUpdate=function(t){t!==e.props?e.calcTradeDetails():e.resizeGraphs()},e.componentWillUnmount=function(){window.removeEventListener("resize",e.resizeGraphs)},e.getVTS=function(e){return Object.keys(re).find((function(t){return re[t].tickers.includes(e)}))},e.calcTradeDetails=function(){var t=e.props,a=t.history,n=t.feeAdjustments,s={};a.meta.symbols_traded.forEach((function(t){var c=e.getVTS(t)||t,i=Object(r.a)({buys:0,sells:0,trades:0},s[c]);e.getVTS(t)&&(i.strat=re[e.getVTS(t)].label);for(var l=j()(a.meta.start_date,"L");l.isSameOrBefore(e.props.activeDates[1],"days");){var o=a[l.format("L")];if(o){var d=0;if(n){var m=a.meta.commission.filter((function(e){return j()(e[0],"L").isSameOrBefore(l)}));d=m[m.length-1][1]}if(o.transactions)for(var u=o.transactions.filter((function(e){return e.symbol===t})),p=0;p<u.length;p++){var f=u[p];"buy"===f.type&&((o.positions[t]||{}).shares===f.shares&&i.trades++,i.buys+=Math.abs(f.shares*f.price)+d),"sell"===f.type&&(i.sells+=Math.abs(f.shares*f.price)+d)}if(l.isSame(e.props.activeDates[1],"days")){if(Object.keys(o.positions).includes(t)){var v=o.positions[t];i.sells+=v.shares*v.c,i=Object(r.a)(Object(r.a)({},i),v)}i.total_pl=N(i.sells-i.buys,2);var h=100*(i.sells-i.buys)/i.buys;i.total_pl_perc=N(h,h>100?0:1)}s[c]=i,l.add(1,"days")}else l.add(1,"days")}})),e.setState({tradeDetails:s})},e.resizeGraphs=function(){var t=e.refs,a=t.graphs,n=t.body,r=t.svg,s=t.graphspace;t.keys,t.details,e.state.display;if(n&&a){var c=e.props.mobile?Math.min(n.clientWidth,n.clientHeight):Math.min(s.clientWidth,s.clientHeight);a.style.width=c+"px",a.style.height=c+"px",a.setAttribute("data-sized",!0),a.querySelectorAll("svg").forEach((function(e){return e.setAttribute("viewBox","0 0 ".concat(c," ").concat(c))})),r.setAttribute("viewBox","0 0 ".concat(c," ").concat(c));var i=c/2-10;Object(ee.a)(r.querySelectorAll(".color")).forEach((function(e){var t=e.getAttribute("data-index"),a=B(i*(1-.15*t),i-18*t,i-15*t);e.setAttribute("r",Math.max(a,0)),e.style.strokeDasharray=2*Math.PI*a,e.style.strokeDashoffset=parseFloat(e.style.strokeDasharray)*(1-e.getAttribute("data-perc"))})),Object(ee.a)(r.querySelectorAll(".track")).forEach((function(e,t){var a=B(i*(1-.15*t),i-18*t,i-15*t);e.setAttribute("r",Math.max(a,0))})),Object(ee.a)(document.querySelectorAll(".mark")).forEach((function(e){var t=e.parentNode;t.setAttribute("viewBox","0 0 ".concat(c," ").concat(c));var a=t.querySelector(".mark"),n=a.getAttribute("data-index"),r=B(i*(1-.15*n),i-18*n,i-15*n);a.setAttribute("r",Math.max(r,0)),a.style.strokeDasharray=2*Math.PI*r,a.style.strokeDashoffset=parseFloat(a.style.strokeDasharray)-.01,t.style.transform="rotate(".concat(360*a.getAttribute("data-perc")-90,"deg)")}))}},e.render=function(){var t=e.props,a=t.data,n=t.activeDates,r=t.mobile,s=e.state,c=s.key,i=s.showData,l=O(a,n[1]).data,d={tactical:{index:0,syms:[]},conservative:{index:1,syms:[]},aggressive:{index:2,syms:[]},rotation:{index:3,syms:[]},other:{syms:[],shares:[],avgs:[],dates:[],index:4},cash:{value:l.cash_balance,index:100}};Object.keys(l.positions).forEach((function(t){var a=l.positions[t],n=a.shares,r=a.avg,s=a.since,c=n*r,i=!e.getVTS(t),o=d[e.getVTS(t)||"other"];i?(o.shares.push(n),o.avgs.push(r),o.value=(o.value||0)+c,o.dates.push(s),o.syms.push(t)):(o.shares=n,o.value=c,o.date=s,o.syms.push(t))}));var m=Object.keys(d).map((function(e){return d[e].value||0})).reduce((function(e,t){return e+t}));Object.keys(d).forEach((function(e){d[e].perc=(d[e].value||0)/m}));return o.a.createElement("div",{className:"tile-container",id:"breakdown"},o.a.createElement("div",{className:"tile ".concat(i?"show-data":"")},r?null:o.a.createElement("div",{className:"data-toggle",onClick:function(t){return e.setState({showData:!i})}},i?o.a.createElement("span",null,"+"):F),o.a.createElement("div",{className:"header"},o.a.createElement("div",{className:"title"},"Positions")),o.a.createElement("div",{className:"body",ref:"body"},o.a.createElement("div",{className:"space main",ref:"graphspace",onClick:r?function(t){return e.setState({showData:!i,slide:0})}:null},o.a.createElement("div",{className:"radial-graphs square",ref:"graphs"},o.a.createElement("svg",{ref:"svg"},o.a.createElement("defs",null,o.a.createElement("filter",{id:"glow"},o.a.createElement("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),o.a.createElement("feMerge",null,o.a.createElement("feMergeNode",{in:"coloredBlur"}),o.a.createElement("feMergeNode",{in:"SourceGraphic"})))),Object.keys(d).filter((function(e){return"cash"!==e})).map((function(e){return o.a.createElement("circle",{key:e,className:"track",cx:"50%",cy:"50%"})})),Object.keys(d).filter((function(e){return"cash"!==e})).map((function(e){return o.a.createElement("circle",{key:e,className:"color","data-index":d[e].index,"data-perc":Math.max(d[e].perc,1e-5),style:{stroke:D[e]},filter:"url(#glow)",cx:"50%",cy:"50%"})}))),Object.keys(d).filter((function(e){return"cash"!==e})).map((function(e){return"cash"===e?null:(t=re[e]?re[e].allocation:1-Object.keys(re).reduce((function(e,t){return e+re[t].allocation}),0),o.a.createElement("svg",{id:"mark-"+e,key:e},o.a.createElement("circle",{className:"mark","data-index":d[e].index,"data-perc":t,style:{stroke:t>d[e].perc?D[e]:null},cx:"50%",cy:"50%"})));var t})))),r?null:o.a.createElement("div",{className:"stats-container main"},o.a.createElement("div",{className:"keys",ref:"keys"},Object.keys(d).sort((function(e,t){return d[e].index-d[t].index})).map((function(t){var a,n,r,s=d[t].perc>0;return"cash"===t?a="$".concat(M(d[t].value)):s&&(a=d[t].syms.join(", ")),n=t,r=a,o.a.createElement("div",{"data-type":t,className:"key ".concat(s?"active":""),key:n,onClick:function(a){return e.setState({key:t===c?null:t,showData:!0,slide:0})}},o.a.createElement("div",{className:"icon",style:"cash"===t?{visibility:"hidden"}:null},o.a.createElement("div",{style:{background:D[t],boxShadow:_(S(D[t]))}})),o.a.createElement("div",{className:"title"},t,o.a.createElement("span",null,r)))})))),o.a.createElement("div",{className:"data"},o.a.createElement("div",{className:"slides",style:{transform:"translateX(".concat(-100*e.state.slide,"%)")}},o.a.createElement("div",{className:"slide"},Object.keys(l.positions).map((function(e){var t=l.positions[e],a=w(N((t.c-t.avg)*t.shares,2)).comma,n=(t.c-t.avg)/t.avg*100,r=N(n,Math.abs(n)<1?2:Math.abs(n)<10?1:0),s=n<0;return o.a.createElement("div",{className:"position",key:e},o.a.createElement("div",{className:"sym"},e),o.a.createElement("div",null,o.a.createElement("div",{className:"pl",style:{color:D[s?"other":"tactical"]}},"$",M(a,2)),o.a.createElement("div",{className:"perc",style:{background:D[s?"other":"tactical"]}},r,"%")))}))),o.a.createElement("div",{className:"slide"},"this slide will include details on each VTS strategy: historical performance, current positions and % allocation (planned vs actual)."))))))},e}return a}(l.Component),ce=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={},e.meta={},e.componentDidMount=function(){},e.toggle=function(){},e.render=function(){return o.a.createElement("div",{className:"tile-container",id:"charts"},o.a.createElement("div",{className:"tile"},"CHARTS"))},e}return a}(l.Component);a(377);var ie=function(e){return e?N(e,Math.abs(e)<1?2:Math.abs(e)<10?1:0):0},le={search:"",filter:[],selectedSymbol:null,toggledYears:[],showAllTransactions:!1,showSymbolList:!1},oe=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state=le,e.meta={key:0,transactions:[]},e.shouldComponentUpdate=P.bind(Object(u.a)(e),Object(u.a)(e)),e.componentDidMount=function(){for(var t,a=e.props.history,n=j()(a.meta.last_updated,"L"),r=j()(a.meta.start_date,"L"),s=a.meta.vts_rates[0],c=0;r.isSameOrBefore(n,"days");){var i,l=a[r.format("L")];a.meta.vts_rates.length-1>c&&r.isSameOrAfter(a.meta.vts_rates[c+1][0])&&(s=a.meta.vts_rates[c+1],c+=1),l&&l.transactions&&(i=e.meta.transactions).push.apply(i,Object(ee.a)(l.transactions));var o=r.clone();r.add(1,"days"),(30===o.date()||o.date()<30&&1===r.date())&&(t||o.isSameOrAfter(s[0]))&&(t=!0,e.meta.transactions.push({amount:s[1],date:o.format("L"),text:"Volatility Trading Strategies (VTS) Subscription",type:"fee"}))}},e.componentDidUpdate=function(t,a){var n=e.props.mobile;if(t.show!==e.props.show&&(e.props.show?(e.refs.transactions&&(e.refs.transactions.scrollTop=0),e.refs.filters&&(e.refs.filters.scrollLeft=0),e.fadeInRows(300),n||(setTimeout((function(t){return e.refs.input.focus()}),50),window.addEventListener("keydown",e.handleKey)),setTimeout((function(t){e.setAggs(),e.fadeInSymbols()}),350)):(e.refs.input&&(e.refs.input.blur(),e.refs.input.value=""),setTimeout((function(t){e.props.show||e.setState(le),e.meta.key++}),350),window.removeEventListener("keydown",e.handleKey))),a.search!==e.state.search&&!e.state.selectedSymbol&&e.state.search||!e.state.search&&e.state.selectedSymbol&&a.selectedSymbol!==e.state.selectedSymbol){var r=e.state.selectedSymbol||e.props.history.meta.symbols_traded.find((function(t){return t.startsWith(e.state.search)}));if(r){Object(ee.a)(document.querySelectorAll(".history .details .stock-opts .active")).forEach((function(e){return e.classList.remove("active")}));var s=document.querySelector('.history .details .stock-opts li[data-sym="'.concat(r,'"]'));if(s){s.classList.add("active");var c=s.getBoundingClientRect().left,i=s.parentNode.getBoundingClientRect().left;e.meta.scrollTo&&e.meta.scrollTo.pause(),e.meta.scrollTo=Object(te.a)({targets:s.parentNode,scrollLeft:Math.max(s.parentNode.scrollLeft+c-i-40,0),easing:"easeOutExpo",duration:350})}}}a.showSymbolList&&!e.state.showSymbolList&&e.fadeInRows(),!a.showSymbolList&&e.state.showSymbolList&&e.fadeInSymbols(),e.props.mobile||!e.getSym(t,a)||e.getSym()||e.fadeInSymbols()},e.handleKey=function(t){"Escape"!==t.key&&(t.stopPropagation(),e.refs.input&&e.refs.input.focus())},e.setAggs=function(){e.meta.aggs||(e.meta.aggs=A(e.props))},e.fadeInRows=function(t){if(e.refs.transactions){var a=Object(ee.a)(e.refs.transactions.querySelectorAll(".row"));e.meta.rowsAnime&&e.meta.rowsAnime.pause(),e.meta.rowsAnime=te.a.timeline().add({targets:a,opacity:[0,1],easing:"easeOutSine",duration:500,delay:function(e,a,n){return(t||0)+75*a},complete:function(t){return e.setState({showAllTransactions:!0})}})}},e.fadeInSymbols=function(){if(e.refs.opts){var t=Object(ee.a)(e.refs.opts.querySelectorAll("li"));e.meta.optsAnime&&e.meta.optsAnime.pause(),e.meta.optsAnime=te.a.timeline().add({targets:t,scale:[0,1],easing:"easeOutSine",duration:250,delay:function(e,t,a){return 100+20*t}})}},e.setSym=function(t,a){e.refs.input&&!a&&(e.refs.input.value=""),e.setState({selectedSymbol:t,search:a?e.state.search:"",toggledYears:[]})},e.getSym=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.state,n=a.search,r=a.selectedSymbol;return r||n&&t.history.meta.symbols_traded.find((function(e){return e.startsWith(n)}))},e.getXY=function(e){return{x:N(e.pageX||e.touches[0].clientX),y:N(e.pageY||e.touches[0].clientY)}},e.moveWindowStart=function(t){if(t&&(t.pageY||t.touches)&&(!e.getSym()||!y(t.target,".stock-opts"))){t.persist();var a=e.getXY(t),n=a.x,r=a.y;e.meta.drag={startX:n,startY:r,lastX:n,lastY:r,target:t.target,time:performance.now(),interface:document.querySelector(".app .interface")}}},e.moveWindow=function(t){var a=e.meta.drag;if(a&&t&&(t.pageY||t.touches)){t.persist();var n=e.getXY(t),r=n.x,s=n.y;if(r!==a.lastX||s!==a.lastY){if(!a.action)if(e.getSym()&&e.refs.details)if(r>a.startX&&Math.abs(s-a.startY)<3)a.action="exit_sym",e.refs.details.style.transitionDuration="0s";else{if(!(s>a.startY&&Math.abs(r-a.startX)<3)||e.refs.symdetails.scrollTop)return void delete e.meta.drag;a.action="exit",e.refs.window.style.transitionDuration="0s",a.interface.style.transitionDuration="0s"}else{if(!(y(a.target,".search")||s>a.startY&&Math.abs(r-a.startX)<3&&!(e.refs.transactions||{}).scrollTop))return void delete e.meta.drag;a.action="exit",e.refs.window.style.transitionDuration="0s",a.interface.style.transitionDuration="0s"}if("exit_sym"===a.action&&(a.percDragged=B(H(r,a.startX,window.screen.width+a.startX,0,100),0,100),e.refs.details.style.left=a.percDragged+"%"),"exit"===a.action){a.dragged=B(H(s,a.startY,window.screen.height+a.startY,40,window.screen.height),40,window.screen.height);var c=B(H(s,a.startY,window.screen.height+a.startY,0,100),0,100);e.refs.window.style.top=a.dragged+"px";a.interface.style.transitionDuration="0s",a.interface.style.transform="scale(".concat(B(H(c,0,30,.95,1),.95,1),") translateY(").concat(B(H(c,0,30,-5,0),-5,0),"px)"),a.interface.style.background="rgba(0,0,30,".concat(B(H(c,0,30,.35,0),0,.35),")"),a.interface.style.borderRadius="".concat(B(H(c,0,30,15,0),0,15),"px")}a.dirX=a.lastX>r?"left":"right",a.dirY=a.lastY>s?"up":"down",a.lastX=r,a.lastY=s,a.time=performance.now(),t.stopPropagation()}}},e.moveWindowEnd=function(t){var a=e.meta.drag;if(a&&t&&(t.pageY||t.touches)&&(a.lastX!==a.startX||a.lastY!==a.startY)){var n=performance.now()-e.meta.drag.time<75;"exit_sym"===a.action&&(e.refs.details.style.left="",e.refs.details.style.transitionDuration="","right"===a.dirX&&(a.percDragged>40||n)&&(n&&(e.refs.details.style.transitionDuration=".1s"),e.refs.details.classList.remove("show"),setTimeout((function(t){e.refs.details&&(e.refs.details.style.transitionDuration="")}),n?100:350))),"exit"===a.action&&(e.refs.window.style.top="",e.refs.window.style.transitionDuration="",a.interface.style.transitionDuration="",a.interface.style.transform="",a.interface.style.background="",a.interface.style.borderRadius="","down"===a.dirY&&(a.dragged>.3*window.screen.height||n)&&(n&&(e.refs.window.style.transitionDuration=".15s",a.interface.style.transitionDuration=".15s"),e.props.close(),setTimeout((function(t){a.interface&&(a.interface.style.transitionDuration=""),e.refs.window&&(e.refs.window.style.transitionDuration="")}),n?150:350))),delete e.meta.drag}},e.render=function(){var t=e.state,a=t.filter,n=t.search,r={buy:D.tactical,sell:D.other,fee:D.rotation,adj:D.aggressive,transfer:D.aggressive,dividend:D.conservative},s=e.getSym(),c=e.props.show?O(e.props.history):{},i=(c.data||{}).positions||{},l=function(){e.state.selectedSymbol||n&&e.props.history.meta.symbols_traded.find((function(e){return e.startsWith(n)}));return o.a.createElement("ul",{key:"opts-".concat(e.meta.key),className:"stock-opts hide-scroll",ref:"opts"},e.props.history.meta.symbols_traded.sort((function(e,t){return e<t?-1:1})).map((function(t){var a=t===e.state.selectedSymbol;return o.a.createElement("li",{key:t,"data-sym":t,className:"".concat(a?"single active":""," ").concat(i[t]?"active-trade":""),title:i[t]?"Actively traded":null,onClick:function(n){return e.setSym(!a&&t)}},t.toUpperCase(),i[t]&&o.a.createElement("div",{className:"active-dot"}))})))},d=function(){if(e.state.showSymbolList)return o.a.createElement("div",{className:"symbols-list"},l());var t=e.meta.transactions.filter((function(t){return!(a.length&&!a.includes(t.type))&&(!n||(!(!e.props.history.meta.symbols_traded.find((function(e){return e.startsWith(n)}))||!(t.symbol||"").startsWith(n))||(!!t.type.startsWith(n)||!!(t.text||"").toLowerCase().includes(n))))})).reverse();return e.state.showAllTransactions&&e.props.show||(t=t.slice(0,17)),o.a.createElement("div",{className:"transactions",ref:"transactions"},o.a.createElement("div",{className:"filters hide-scroll",ref:"filters"},Object.keys(r).map((function(t){return o.a.createElement("div",{key:t,className:"".concat(a.includes(t)?"active":""," pill"),style:{boxShadow:_(S(r[t])),borderColor:r[t],color:r[t]},onClick:function(n){a.includes(t)?e.setState({filter:a.filter((function(e){return e!==t}))}):e.setState({filter:[].concat(Object(ee.a)(a),[t])})}},"adj"===t?"adjustment":t)}))),t.map((function(t,a){var n=t.text.toLowerCase().replace("(vts)","(VTS)"),s=j()(t.date);return e.props.history.meta.symbols_traded.forEach((function(e){n=n.replace(e,e.toUpperCase())})),o.a.createElement("div",{key:a,className:"row ".concat(t.symbol?"clickable":""),title:t.text,onClick:t.symbol?function(a){t.symbol!==e.state.selectedSymbol&&e.setSym(t.symbol,!0)}:null},o.a.createElement("div",{className:"banner",style:{background:r[t.type],boxShadow:_(S(r[t.type]))}}),o.a.createElement("div",{className:"row-content hide-scroll"},o.a.createElement("div",{className:"meta"},o.a.createElement("small",{title:t.date},s.format("MMM D, YYYY")),o.a.createElement("p",null,U("adj"===t.type?"adjustment":t.type)," ",(["buy","sell"].includes(t.type)&&t.symbol||"").toUpperCase())),o.a.createElement("div",{className:"meta"},o.a.createElement("small",null,"Amount"),o.a.createElement("p",null,M("adj"===t.type?t.amount:Math.abs(t.amount),2))),["buy","sell"].includes(t.type)&&[o.a.createElement("div",{className:"meta",key:"shares"},o.a.createElement("small",null,"Shares"),o.a.createElement("p",null,t.shares)),o.a.createElement("div",{className:"meta",key:"price"},o.a.createElement("small",null,"Price"),o.a.createElement("p",null,M(t.price))),o.a.createElement("div",{className:"meta",key:"commission"},o.a.createElement("small",null,"Commission"),o.a.createElement("p",null,M(t.commission)))],t.reg_fee>0&&o.a.createElement("div",{className:"meta"},o.a.createElement("small",null,"Regulatory Fee"),o.a.createElement("p",null,M(t.reg_fee))),["adj","transfer","fee","dividend"].includes(t.type)&&o.a.createElement("div",{className:"meta text"},o.a.createElement("small",null,"Description"),o.a.createElement("p",null,n)),o.a.createElement("div",{className:"meta text"},o.a.createElement("small",null,"Time"),o.a.createElement("p",{style:{textTransform:"initial"}},s.format("h:mm:ss a")))))})),e.state.showAllTransactions?o.a.createElement("div",{className:"footer"},o.a.createElement("b",null,w(t.length).comma)," transaction",1===t.length?"":"s"):o.a.createElement("div",{className:"footer"},"Loading..."))},m=function(){if(!s&&e.props.mobile)return null;if(!s)return o.a.createElement("div",{className:"empty-details"}," ",l()," ");var t=e.meta.aggs[s],a=o.a.createElement("div",{className:"active-dot",style:{background:D.conservative,boxShadow:_(S(D.conservative))},title:"Actively traded stock"}),r=o.a.createElement("div",{className:"clear",onClick:function(t){return e.setSym()}},W),d=""+N(100*Math.abs(t.total_pl%1));1===d.length&&(d="0"+d);var m=o.a.createElement("div",{key:"balance",className:"balance"},o.a.createElement("span",null,w(Math.ceil(t.total_pl)).comma),".",o.a.createElement("small",null,d),o.a.createElement("div",{className:"percent percent-tag ".concat(t.total_pl<0?"neg":"pos")},K,ie(t.total_pl_perc),"%")),u=o.a.createElement("div",{className:"sym"},s.toUpperCase(),i[s]&&a,r,e.props.mobile&&m);n&&n!==s&&s.includes(n)&&(u=o.a.createElement("div",{className:"sym"},n.toUpperCase(),o.a.createElement("span",null,s.replace(n,"").toUpperCase()),i[s]&&a,r));var p=i[s]&&M((i[s].c-i[s].avg)*i[s].shares),f=i[s]&&ie((i[s].c-i[s].avg)/i[s].avg*100);return[o.a.createElement("div",{className:"details-content hide-scroll",key:s,ref:"symdetails"},u,!e.props.mobile&&[o.a.createElement("div",{key:"div",className:"divider"}),m],i[s]&&t.current&&o.a.createElement("div",{className:"metrics active",style:{borderColor:D.conservative,boxShadow:_(S(D.conservative))}},o.a.createElement("div",{className:"metric double"},o.a.createElement("div",{className:"header"},"P/L"),o.a.createElement("div",{className:"value"},p," ",o.a.createElement("span",{className:"mute"},"|")," ",f,"%")),o.a.createElement("div",{className:"metric double",title:"".concat(t.current.days_in_trade," day").concat(1===t.current.days_in_trade?"":"s")},o.a.createElement("div",{className:"header"},"Since"),o.a.createElement("div",{className:"value"},j()(t.current.since).format("MMM D, YYYY"))),o.a.createElement("div",{className:"metric"},o.a.createElement("div",{className:"header"},"Avg"),o.a.createElement("div",{className:"value"},M(t.current.avg))),o.a.createElement("div",{className:"metric"},o.a.createElement("div",{className:"header"},"Shares"),o.a.createElement("div",{className:"value"},w(t.current.shares).comma)),o.a.createElement("div",{className:"metric"},o.a.createElement("div",{className:"header"},"Max Gain"),o.a.createElement("div",{className:"value"},ie(t.current.max_upside),"%")),o.a.createElement("div",{className:"metric"},o.a.createElement("div",{className:"header"},"Max Loss"),o.a.createElement("div",{className:"value"},ie(t.current.max_drawdown),"%")),o.a.createElement("div",{className:"metric"},o.a.createElement("div",{className:"header"},"Open"),o.a.createElement("div",{className:"value"},M(t.current.o))),o.a.createElement("div",{className:"metric"},o.a.createElement("div",{className:"header"},"High"),o.a.createElement("div",{className:"value"},M(t.current.h))),o.a.createElement("div",{className:"metric"},o.a.createElement("div",{className:"header"},"Low"),o.a.createElement("div",{className:"value"},M(t.current.l))),o.a.createElement("div",{className:"metric"},o.a.createElement("div",{className:"header"},"Close"),o.a.createElement("div",{className:"value"},M(t.current.c)))),o.a.createElement("div",{className:"divider"}),o.a.createElement("div",{className:"metrics"},o.a.createElement("div",{className:"metric"},o.a.createElement("div",{className:"header"},"Avg P/L"),o.a.createElement("div",{className:"value"},ie(t.avg_pl_perc),"%")),o.a.createElement("div",{className:"metric"},o.a.createElement("div",{className:"header"},"Max Upside"),o.a.createElement("div",{className:"value"},ie(t.max_upside),"%")),o.a.createElement("div",{className:"metric"},o.a.createElement("div",{className:"header"},"Max Drawdown"),o.a.createElement("div",{className:"value"},ie(t.max_drawdown),"%")),o.a.createElement("div",{className:"metric"},o.a.createElement("div",{className:"header"},"Dividends"),o.a.createElement("div",{className:"value"},t.dividends?M(t.dividends):"-")),o.a.createElement("div",{className:"metric"},o.a.createElement("div",{className:"header"},"Fees"),o.a.createElement("div",{className:"value"},t.fees?M(t.fees):"-")),o.a.createElement("div",{className:"metric"},o.a.createElement("div",{className:"header",title:"Avg days holding this position"},"Avg Days in Trade"),o.a.createElement("div",{className:"value"},w(N(t.avg_days_in_trade)).comma)),o.a.createElement("div",{className:"metric"},o.a.createElement("div",{className:"header",title:"Total trades, every trade included"},"Trades"),o.a.createElement("div",{className:"value"},w(t.trades).comma)),o.a.createElement("div",{className:"metric"},o.a.createElement("div",{className:"header",title:"Total full trade cycles"},"Cycles"),o.a.createElement("div",{className:"value"},w(t.cycles).comma)),o.a.createElement("div",{className:"metric"},o.a.createElement("div",{className:"header",title:"Total days holding this position"},"Total Days in Trade"),o.a.createElement("div",{className:"value"},w(t.days_in_trade).comma))),o.a.createElement("div",{className:"divider"}),Object.keys(t.years).sort((function(e,t){return t-e})).map((function(a,n,r){var l=t.years[a],d=e.state.toggledYears.includes(a);return[o.a.createElement("div",{className:"year",key:a},o.a.createElement("div",{className:"toggle ".concat(l.total_pl?"":"disabled"),onClick:function(t){l.total_pl&&(d?e.setState({toggledYears:e.state.toggledYears.filter((function(e){return e!==a}))}):e.setState({toggledYears:[].concat(Object(ee.a)(e.state.toggledYears),[a])}))}},o.a.createElement("h1",null,a),l.total_pl?o.a.createElement("div",null,o.a.createElement("span",null,M(l.total_pl)),o.a.createElement("div",{className:"percent percent-tag ".concat(l.total_pl<0?"neg":"pos")},K,ie(l.total_pl_perc),"%")):null),d&&o.a.createElement("div",{className:"extended"},o.a.createElement("div",{className:"metrics"},o.a.createElement("div",{className:"metric"},o.a.createElement("div",{className:"header"},"Avg P/L"),o.a.createElement("div",{className:"value"},ie(l.avg_pl_perc),"%")),o.a.createElement("div",{className:"metric"},o.a.createElement("div",{className:"header"},"Max Upside"),o.a.createElement("div",{className:"value"},ie(l.max_upside),"%")),o.a.createElement("div",{className:"metric"},o.a.createElement("div",{className:"header"},"Max Drawdown"),o.a.createElement("div",{className:"value"},ie(l.max_drawdown),"%")),o.a.createElement("div",{className:"metric"},o.a.createElement("div",{className:"header"},"Dividends"),o.a.createElement("div",{className:"value"},l.dividends?M(l.dividends):"-")),o.a.createElement("div",{className:"metric"},o.a.createElement("div",{className:"header"},"Fees"),o.a.createElement("div",{className:"value"},l.fees?M(l.fees):"-")),o.a.createElement("div",{className:"metric"},o.a.createElement("div",{className:"header",title:"Avg days holding this position"},"Avg Days in Trade"),o.a.createElement("div",{className:"value"},w(N(l.avg_days_in_trade)).comma)),o.a.createElement("div",{className:"metric"},o.a.createElement("div",{className:"header",title:"Total trades, every trade included"},"Trades"),o.a.createElement("div",{className:"value"},w(l.trades).comma)),o.a.createElement("div",{className:"metric"},o.a.createElement("div",{className:"header",title:"Total full trade cycles"},"Cycles"),o.a.createElement("div",{className:"value"},w(l.cycles).comma)),o.a.createElement("div",{className:"metric"},o.a.createElement("div",{className:"header",title:"Total days holding this position"},"% Days in Trade"),o.a.createElement("div",{className:"value"},ie(l.perc_days_in_trade),"%"))),o.a.createElement("div",{key:"trades",className:"trades"},i[s]&&c.date&&c.date.year()+""===a&&o.a.createElement("div",{key:n,className:"trade"},o.a.createElement("div",null,"Current Position"),o.a.createElement("div",null,o.a.createElement("span",null,p),o.a.createElement("div",{className:"percent percent-tag ".concat(f<0?"neg":"pos")},K,f,"%"))),Object(ee.a)(l.sell_trades||[]).reverse().map((function(e,t){return o.a.createElement("div",{key:t,className:"trade"},o.a.createElement("div",null,j()(e[0].date).format("L")),o.a.createElement("div",null,o.a.createElement("span",null,M(e[0].amount-e[1]*e[0].shares)),o.a.createElement("div",{className:"percent percent-tag ".concat(e[2]<0?"neg":"pos")},K,ie(e[2]),"%")))}))))),n!==r.length-1&&o.a.createElement("div",{key:"div",className:"divider"})]}))),l()]};return e.props.mobile?o.a.createElement("div",{ref:"bg",className:"history mobile ".concat(e.props.show?"show":""),onClick:function(t){if(t.target===e.refs.bg)return e.props.close()}},o.a.createElement("div",{ref:"window",className:"history-window",onTouchStart:e.moveWindowStart,onTouchMove:e.moveWindow,onTouchEnd:e.moveWindowEnd,onMouseDown:e.moveWindowStart,onMouseMove:e.moveWindow,onMouseUp:e.moveWindowEnd},o.a.createElement("div",{className:"search"},e.state.showSymbolList?"Stocks":"Transactions",o.a.createElement("div",{className:"btn",onClick:function(t){e.setState({showSymbolList:!e.state.showSymbolList,showAllTransactions:!1})}},e.state.showSymbolList?o.a.createElement("span",null,"+"):$)),o.a.createElement("div",{className:"content"},d()),o.a.createElement("div",{className:"details ".concat(s?"show":""),ref:"details"},m()))):o.a.createElement("div",{className:"history ".concat(e.props.show?"show":""),ref:"bg",onClick:function(t){if(t.target===e.refs.bg)return e.props.close()}},o.a.createElement("div",{className:"history-window"},o.a.createElement("div",{className:"search"},o.a.createElement("input",{ref:"input",onKeyDown:function(e){return"Escape"!==e.key&&e.stopPropagation()},placeholder:"Search History",onChange:function(t){return e.setState({search:t.target.value.toLowerCase(),selectedSymbol:null,toggledYears:[]})}}),$),o.a.createElement("div",{className:"content"},d(),o.a.createElement("div",{className:"details ".concat(s?"with-sym":"")},m()))))},e}return a}(l.Component);a(158);var de=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={headerIndex:0,scrubberEnd:e.props.lastDay,showHelp:!1,showHistory:!1},e.meta={},e.componentWillMount=function(){window.addEventListener("resize",e.handleResize),window.addEventListener("keydown",e.handleKey)},e.componentWillReceiveProps=function(e){},e.componentDidUpdate=function(t){var a=e.props,n=a.activeDateOpt,r=a.activeDates,s=a.dataView;if(console.log(e.state.headerIndex,t.activeDates,r),!e.state.headerIndex&&t.activeDates!==r){var c=e.refs.dates||document.querySelector("#header-basic .dates"),i=Object(ee.a)(c.getElementsByClassName("year")),l=Object(ee.a)(c.getElementsByClassName("rest")),o=j()("".concat(l[0].textContent," ").concat(i[0]?i[0].textContent:t.lastDay.year()),"MMM DD YYYY"),d=l[1]?j()("".concat(l[1].textContent," ").concat(i[1]?i[1].textContent:t.lastDay.year()),"MMM DD YYYY"):o.clone(),m=r[0].diff(o,"days"),u=r[1].diff(d,"days"),p={fromdiff:0,todiff:0,fromdiffhistory:0,todiffhistory:0};console.log("hi"),e.meta.dateMenuAnim&&e.meta.dateMenuAnim.pause(),e.meta.dateMenuAnim=Object(te.a)({targets:p,fromdiff:m,todiff:u,easing:"easeOutExpo",round:1,duration:700,update:function(){if(console.log("hi"),p.fromdiffhistory!==p.fromdiff||p.todiffhistory!==p.todiff){var e=o.clone().add(p.fromdiff,"days"),t=d.clone().add(p.todiff,"days");i.length&&(i[0].innerHTML=", "+e.year(),i[1]&&(i[1].innerHTML=", "+t.year())),l[0].innerHTML=e.format("MMM D"),l[1]&&(l[1].innerHTML=t.format("MMM D")),p.fromdiffhistory=p.fromdiff,p.todiffhistory=p.todiff}}})}var f=e.refs.dateOptBg;if(n<0)f.style.opacity=0;else if(!e.meta.loaded||parseFloat(f.getAttribute("data-index"))!==n){var v=e.refs.dateOpts.querySelectorAll("[data-opt]")[n].getBoundingClientRect(),h=e.refs.dateOpts.getBoundingClientRect().left;f.style.opacity=1,f.style.width=v.width+"px",f.style.height=v.height+"px",f.style.left=v.left-h+"px"}f=e.refs.appOptBg;var y=e.refs,g=y.dvDollar,b=y.dvPerc,E=e.refs.appOpts.getBoundingClientRect().left,w=("$"===s?g:b).getBoundingClientRect();f.style.opacity=1,f.style.width=w.width+"px",f.style.height=w.height+"px",f.style.left=w.left-E+"px",e.meta.loaded=!0},e.componentDidUpdate=function(){var t=e.props,a=t.activeDateOpt,n=t.dataView,r=e.refs.dateOptBg;if(a<0)r.style.opacity=0;else if(!e.meta.loaded||parseFloat(r.getAttribute("data-index"))!==a){var s=e.refs.dateOpts.querySelectorAll("[data-opt]")[a].getBoundingClientRect(),c=e.refs.dateOpts.getBoundingClientRect().left;r.style.opacity=1,r.style.width=s.width+"px",r.style.height=s.height+"px",r.style.left=s.left-c+"px"}r=e.refs.appOptBg;var i=e.refs,l=i.dvDollar,o=i.dvPerc,d=e.refs.appOpts.getBoundingClientRect().left,m=("$"===n?l:o).getBoundingClientRect();r.style.opacity=1,r.style.width=m.width+"px",r.style.height=m.height+"px",r.style.left=m.left-d+"px",e.meta.loaded=!0},e.componentWillUnmount=function(){window.removeEventListener("resize",e.handleResize),window.removeEventListener("keydown",e.handleKey)},e.handleKey=function(t){var a=e.props,n=a.onSettingsChange,r=a.onDateChange;if("Slash"===t.code)e.setState({showHelp:!e.state.showHelp});else if("KeyH"===t.code)e.setState({showHistory:!e.state.showHistory});else if(e.state.showHelp||e.state.showHistory)return void("Escape"===t.code&&e.setState({showHelp:!1,showHistory:!1}));switch(t.code){case"Space":return t.preventDefault(),t.stopPropagation(),e.changeHeader();case"KeyD":return e.state.headerIndex&&e.changeHeader(),void n("dataView","$");case"KeyP":return e.state.headerIndex&&e.changeHeader(),void n("dataView","%");case"KeyF":return e.state.headerIndex&&e.changeHeader(),void n("feeAdjustments",!e.props.feeAdjustments);case"KeyA":return e.state.headerIndex&&e.changeHeader(),void n("contributionAdjustments",!e.props.contributionAdjustments);case"Digit1":return e.state.headerIndex&&e.changeHeader(),void r("opt",0);case"Digit3":return e.state.headerIndex&&e.changeHeader(),void r("opt",1);case"KeyY":return e.state.headerIndex&&e.changeHeader(),void r("opt",2);case"KeyM":return e.state.headerIndex&&e.changeHeader(),void r("opt",3);default:return}},e.changeHeader=function(t){var a={headerIndex:(e.state.headerIndex+1)%3};1===a.headerIndex&&(e.meta.weekdays=null,a.scrubberEnd=e.meta.activeScrubberEnd||e.props.lastDay),e.setState(a)},e.renderDates=function(){var t=e.props.activeDates,a=Y(t[0],t[1]);return t[0]===t[1]?o.a.createElement("div",{className:"dates",ref:"dates"},o.a.createElement("span",{className:"rest"},a[0].m," ",a[0].d),a[0].useYear?o.a.createElement("span",{className:"year"},", ",a[0].y):null):o.a.createElement("div",{className:"dates",ref:"dates"},o.a.createElement("span",{className:"rest"},a[0].m," ",a[0].d),a[0].useYear?o.a.createElement("span",{className:"year"},", ",a[0].y):null,o.a.createElement("span",null," - "),o.a.createElement("span",{className:"rest"},a[1].m," ",a[1].d),a[1].useYear?o.a.createElement("span",{className:"year"},", ",a[1].y):null)},e.hideHistory=function(t){return e.setState({showHistory:!1})},e.render=function(){var t=e.state.headerIndex,a=(e.meta.weekdays,e.props),n=(a.activeDates,a.dataView),r=a.feeAdjustments,s=a.contributionAdjustments,c=a.onSettingsChange,i=a.onDateChange;return o.a.createElement("div",{className:"interface ".concat(e.state.showHelp||e.state.showHistory?"blur":"")},o.a.createElement("div",{className:"bg"}),o.a.createElement("div",{ref:"header",className:"interface-header"},o.a.createElement("div",{className:"header-slider","data-slide":t},o.a.createElement("section",{id:"header-basic"},o.a.createElement("div",{className:"header-left"},o.a.createElement("ul",{ref:"appOpts",className:"app-opts"},o.a.createElement("div",{ref:"appOptBg",className:"bg","data-index":-1}),o.a.createElement("li",{className:"icon ".concat("$"===n?"active":""),ref:"dvDollar",title:"Use dollar change",onClick:"$"===n?null:function(){return c("dataView","$")}},o.a.createElement("div",{className:"clickitem"},"$")),o.a.createElement("li",{className:"icon ".concat("%"===n?"active":""),ref:"dvPerc",title:"Use percent change",onClick:"%"===n?null:function(){return c("dataView","%")}},o.a.createElement("div",{className:"clickitem"},"%")),o.a.createElement("li",{className:"divider"}),o.a.createElement("li",{className:"single ".concat(r?"active":""),title:"Toggle fee-adjusted values",onClick:function(){return c("feeAdjustments",!r)}},o.a.createElement("div",{className:"clickitem"},"Fees")),o.a.createElement("li",{className:"single ".concat(s?"active":""),title:"Toggle backwards contribution adjustments",onClick:function(){return c("contributionAdjustments",!s)}},o.a.createElement("div",{className:"clickitem"},"Adj")))),e.renderDates(),o.a.createElement("div",{className:"header-right"},o.a.createElement("ul",{ref:"dateOpts",className:"date-opts"},o.a.createElement("div",{ref:"dateOptBg",className:"bg","data-index":-1}),e.props.dateOpts.map((function(t,a){var n=e.props.activeDateOpt===a,r=T(t.start,t.end),s="".concat(r[0]," - ").concat(r[1]);return o.a.createElement("li",{key:a,className:n?"active":"","data-opt":a,title:s,onClick:n?null:function(){return i("opt",a)}},o.a.createElement("div",{className:"clickitem"},t.range_count,o.a.createElement("span",null,t.range_type)))}))))),o.a.createElement("section",{id:"header-cal"},o.a.createElement(G,Object.assign({},e.props,{headerIndex:t}))),o.a.createElement("section",{id:"header-btns"},o.a.createElement("div",null,"hello world"))),o.a.createElement("div",{className:"menu-icon",onClick:e.changeHeader},o.a.createElement("div",{className:"clickitem"},F))),o.a.createElement("div",{className:"interface-content hide-scroll"},o.a.createElement("section",{className:"tile-col left"},o.a.createElement(Q,e.props),o.a.createElement(ae,e.props),o.a.createElement(ne,e.props)),o.a.createElement("section",{className:"tile-col right"},o.a.createElement(se,e.props),o.a.createElement(ce,e.props))),o.a.createElement(oe,{show:e.state.showHistory,history:e.props.history,close:e.hideHistory}))},e}return a}(l.Component),me=a(139),ue=a.n(me);a(158);var pe=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={showHistory:!1},e.meta={swipe:{acctIndex:1,posIndex:0}},e.componentWillMount=function(){e.meta.app=document.getElementById("app")},e.componentDidMount=function(){var t=function(e,t){var a=parseFloat(t[0].style.width);if(t[e].children[0].style.transform="scale(1)",!e){for(var n=e+2;n<t.length;n++)t[n].style.transform="translate(".concat(2*a,"px, 0px) translateZ(0px)"),t[n].style.transitionDuration="400ms",t[n].children[0].style.transform="scale(.8)",t[n].children[0].style.transformOrigin="left center";t[1].children[0].style.transform="scale(.8)",t[1].children[0].style.transformOrigin="left center"}if(e>1){for(var r=e-2;r>=0;r--)t[r].style.transform="translate(".concat(-2*a,"px, 0px) translateZ(0px)"),t[r].style.transitionDuration="400ms",t[r].children[0].style.transform="scale(.8)",t[r].children[0].style.transformOrigin="right center";t[e-1].children[0].style.transform="scale(.8)",t[e-1].children[0].style.transformOrigin="right center"}1===e&&(t[0].style.transform="translate(".concat(-1*a,"px, 0px) translateZ(0px)"),t[0].style.transitionDuration="400ms",t[0].children[0].style.transform="scale(.8)",t[0].children[0].style.transformOrigin="right center",t[2]&&(t[2].style.transform="translate(".concat(a,"px, 0px) translateZ(0px)"),t[2].style.transitionDuration="400ms",t[2].children[0].style.transform="scale(.8)",t[2].children[0].style.transformOrigin="left center"))};e.meta.swipe.acct=new ue.a(e.refs.account,{startSlide:e.meta.swipe.acctIndex,speed:400,draggable:!0,continuous:!1,disableScroll:!0,stopPropagation:!0,callback:function(a,n,r){e.meta.swipe.acctIndex=a,t(a,Object(ee.a)(e.refs.account.querySelectorAll(".swipe-wrap > div")))}}),e.meta.swipe.pos=new ue.a(e.refs.positions,{startSlide:e.meta.swipe.posIndex,speed:400,draggable:!0,continuous:!1,disableScroll:!0,stopPropagation:!0,callback:function(a,n,r){e.meta.swipe.posIndex=a,t(a,Object(ee.a)(e.refs.positions.querySelectorAll(".swipe-wrap > div")))}}),t(e.meta.swipe.acctIndex,Object(ee.a)(e.refs.account.querySelectorAll(".swipe-wrap > div"))),t(e.meta.swipe.posIndex,Object(ee.a)(e.refs.positions.querySelectorAll(".swipe-wrap > div"))),e.meta.tileAnime&&e.meta.tileAnime.pause(),e.meta.tileAnime=te.a.timeline().add({targets:["#balances","#breakdown"],opacity:[0,1],marginTop:[20,0],easing:"easeInOutSine",duration:500,delay:function(e,t,a){return 1e3+200*t}}).add({targets:["#portfolio","#charts","#volatility"],opacity:[0,1],offset:"-=500",easing:"easeInOutSine",duration:500,delay:function(e,t,a){return 200*t}})},e.componentWillReceiveProps=function(t){if(e.refs.menu.classList.contains("show")){var a=e.refs.menu.querySelector(".from .big"),n=e.refs.menu.querySelector(".from .small"),r=e.refs.menu.querySelector(".to .big"),s=e.refs.menu.querySelector(".to .small"),c=j()("".concat(n.textContent," ").concat(a.textContent),"MMM YYYY DD"),i=j()("".concat(s.textContent," ").concat(r.textContent),"MMM YYYY DD"),l=t.activeDates[0].diff(c,"days"),o=t.activeDates[1].diff(i,"days"),d={fromdiff:0,todiff:0,fromdiffhistory:0,todiffhistory:0};e.meta.dateMenuAnim=Object(te.a)({targets:d,fromdiff:l,todiff:o,easing:"easeOutExpo",round:1,duration:1e3,update:function(){if(d.fromdiffhistory!==d.fromdiff||d.todiffhistory!==d.todiff){var e=c.clone().add(d.fromdiff,"days"),t=i.clone().add(d.todiff,"days");a.innerHTML=e.date(),n.innerHTML=e.format("MMM YYYY"),r.innerHTML=t.date(),s.innerHTML=t.format("MMM YYYY"),d.fromdiffhistory=d.fromdiff,d.todiffhistory=d.todiff}}})}},e.init=function(e){},e.moveHeaderStart=function(t){if(t&&(t.pageY||t.touches)){var a=t.pageY||t.touches[0].clientY-20;e.refs.menu.style.transitionDuration="0s",e.refs.interface.style.transitionDuration="0s",e.meta.app.style.transitionDuration="0s",e.refs.menu.style.transitionTimingFunction=null,e.refs.interface.style.transitionTimingFunction=null,e.meta.app.hasAttribute("data-bg")||e.meta.app.setAttribute("data-bg",e.meta.app.style.background),e.meta.drag={y:a,alpha:C(e.meta.app.getAttribute("data-bg")),menuOpen:e.refs.menu.classList.contains("show"),time:performance.now()}}},e.moveHeader=function(t){var a=e.meta.drag;if(a&&t&&(t.pageY||t.touches)){var n=t.pageY||t.touches[0].clientY-20;if(!(n<0))if(a.menuOpen){a.diff=a.y-n,a.diff<0&&(a.diff=0,a.y=n,a.time=performance.now()),e.refs.menu.style.top="-".concat(a.diff,"px"),e.refs.interface.style.top="calc(100vh - ".concat(a.diff,"px)");var r=H(a.diff,0,window.screen.height,.6,a.alpha),s=Math.max(H(a.diff,window.screen.height/4,window.screen.height/2,0,10),0);e.meta.app.style.background="rgba(0,0,0,".concat(r,")"),e.refs.menu.style.filter="blur(".concat(s,"px)")}else{e.refs.interface.style.top=n+"px",e.refs.menu.style.top="calc(-100vh + ".concat(n,"px)");var c=H(n,0,window.screen.height,a.alpha,.6),i=Math.max(H(n,0,window.screen.height/2,10,0),0);e.meta.app.style.background="rgba(0,0,0,".concat(c,")"),e.refs.menu.style.filter="blur(".concat(i,"px)")}}},e.moveHeaderEnd=function(t){if(e.meta.drag){var a=performance.now()-e.meta.drag.time<200;e.meta.drag.menuOpen?a&&e.meta.drag.diff>.1*window.screen.height||e.meta.drag.diff>window.screen.height/4?e.hideMenu(a):(e.refs.menu.style.transitionDuration="0.15s",e.refs.interface.style.transitionDuration="0.15s",e.meta.app.style.transitionDuration="0.15s",e.refs.menu.style.top=0,e.refs.interface.style.top="100vh",e.meta.app.style.background="rgba(0,0,0,".concat(.6,")"),e.refs.menu.style.filter="blur(0px)"):a&&parseFloat(e.refs.interface.style.top)>=window.screen.height/5||parseFloat(e.refs.interface.style.top)>=window.screen.height/3?e.showMenu(a):(e.refs.menu.style.transitionDuration="0.15s",e.refs.interface.style.transitionDuration="0.15s",e.meta.app.style.transitionDuration="0.15s",e.refs.menu.style.top=null,e.refs.interface.style.top=null,e.meta.app.style.background="rgba(0,0,0,".concat(e.meta.drag.alpha,")"),e.refs.menu.style.filter="blur(10px)"),e.meta.drag=null}},e.showMenu=function(t){t&&(e.refs.menu.style.transitionTimingFunction="cubic-bezier(.17,.89,.13,1.13)",e.refs.interface.style.transitionTimingFunction="cubic-bezier(.17,.89,.13,1.13)"),e.refs.menu.style.transitionDuration=null,e.refs.interface.style.transitionDuration=null,e.meta.app.style.transitionDuration=null,e.refs.menu.classList.add("show"),e.refs.menu.style.top=0,e.refs.interface.style.top="100vh",e.refs.menu.style.filter="blur(0px)",e.meta.app.style.background="rgba(0,0,0,".concat(.6,")")},e.hideMenu=function(t){t&&(e.refs.menu.style.transitionTimingFunction="cubic-bezier(.17,.89,.13,1.13)",e.refs.interface.style.transitionTimingFunction="cubic-bezier(.17,.89,.13,1.13)"),e.refs.menu.style.transitionDuration=null,e.refs.interface.style.transitionDuration=null,e.meta.app.style.transitionDuration=null,e.refs.menu.classList.remove("show"),e.refs.menu.style.top=null,e.refs.interface.style.top=null,e.meta.app.style.background=e.meta.app.getAttribute("data-bg"),e.refs.menu.style.filter="blur(10px)"},e.dateChange=function(t){if(t.target.value){var a=j()(e.refs.from.value,"YYYY-MM-DD"),n=j()(e.refs.to.value,"YYYY-MM-DD"),r=t.target===e.refs.from?0:1,s=j()(e.props.data.meta.start_date,"L"),c=j()(e.props.lastDay,"L");a.isBefore(s)&&(a=s),n.isAfter(c)&&(n=c);var i=[a,n];a.isAfter(n)&&(r?(n.isBefore(s)&&(n=s),i=[n,n]):(a.isAfter(c)&&(a=c),i=[a,a])),e.props.onDateChange("range",i)}},e.hideHistory=function(t){return e.setState({showHistory:!1})},e.render=function(){var t=e.props.activeDates[0],a=e.props.activeDates[1],n=T(t,a),r=Y(t,a),s=t===a?n[0]:"".concat(n[0]," - ").concat(n[1]);return[o.a.createElement("div",{className:"interface ".concat(e.state.showHistory?"shrink":""),key:"interface",ref:"interface",onTouchStart:e.moveHeaderStart,onTouchMove:e.moveHeader,onTouchEnd:e.moveHeaderEnd,onMouseDown:e.moveHeaderStart,onMouseMove:e.moveHeader,onMouseUp:e.moveHeaderEnd},o.a.createElement("div",{className:"bg"}),o.a.createElement("div",{className:"interface-header",ref:"header",onClick:e.showMenu},o.a.createElement("div",{className:"quick-action",onClick:function(t){t.stopPropagation(),e.setState({showHistory:!0})}},X),o.a.createElement("div",{className:"dates"},s),o.a.createElement("div",{className:"quick-action"})),o.a.createElement("div",{className:"interface-content",ref:"content"},o.a.createElement("section",null,o.a.createElement("div",{className:"swipe-shrink"},o.a.createElement("div",{ref:"account",className:"swipe"},o.a.createElement("div",{className:"swipe-wrap"},o.a.createElement("div",{style:{transform:"scale(0.8)",transformOrigin:"right center"}},o.a.createElement(Q,Object.assign({mobile:!0},e.props))),o.a.createElement("div",null,o.a.createElement(ae,Object.assign({mobile:!0},e.props))),o.a.createElement("div",{style:{transform:"scale(0.8)",transformOrigin:"left center"}},o.a.createElement(ne,Object.assign({mobile:!0},e.props))))))),o.a.createElement("section",null,o.a.createElement("div",{className:"swipe-shrink"},o.a.createElement("div",{ref:"positions",className:"swipe"},o.a.createElement("div",{className:"swipe-wrap"},o.a.createElement("div",{style:{transform:"scale(0.8)",transformOrigin:"right center"}},o.a.createElement(se,Object.assign({mobile:!0},e.props))),o.a.createElement("div",null,o.a.createElement(ce,Object.assign({mobile:!0},e.props))))))))),o.a.createElement("div",{ref:"menu",key:"menu",className:"mobile-menu",onTouchStart:e.moveHeaderStart,onTouchMove:e.moveHeader,onTouchEnd:e.moveHeaderEnd,onMouseDown:e.moveHeaderStart,onMouseMove:e.moveHeader,onMouseUp:e.moveHeaderEnd},o.a.createElement("div",{className:"opts"},o.a.createElement("div",{className:"opt icon ".concat("$"===e.props.dataView?"active":""),onClick:"$"===e.props.dataView?null:function(){return e.props.onSettingsChange("dataView","$")}},"$"),o.a.createElement("div",{className:"opt icon ".concat("%"===e.props.dataView?"active":""),onClick:"%"===e.props.dataView?null:function(){return e.props.onSettingsChange("dataView","%")}},"%"),o.a.createElement("div",{className:"opt divider"}),o.a.createElement("div",{className:"opt single ".concat(e.props.feeAdjustments?"active":""),onClick:function(){return e.props.onSettingsChange("feeAdjustments",!e.props.feeAdjustments)}},"Fees"),o.a.createElement("div",{className:"opt single ".concat(e.props.contributionAdjustments?"active":""),onClick:function(){return e.props.onSettingsChange("contributionAdjustments",!e.props.contributionAdjustments)}},"Adj")),o.a.createElement("div",{className:"date-pickers"},o.a.createElement("div",{className:"from"},o.a.createElement("div",{className:"text"},o.a.createElement("div",{className:"big"},r[0].d),o.a.createElement("div",{className:"small"},r[0].m," ",r[0].y)),o.a.createElement("input",{key:e.props.activeDates[0].format("L"),ref:"from",type:"date",onBlur:e.dateChange,defaultValue:e.props.activeDates[0].format("YYYY-MM-DD")})),o.a.createElement("div",{className:"to"},o.a.createElement("div",{className:"text"},o.a.createElement("div",{className:"big"},r[1].d),o.a.createElement("div",{className:"small"},r[1].m," ",r[1].y)),o.a.createElement("input",{key:e.props.activeDates[1].format("L"),ref:"to",type:"date",onBlur:e.dateChange,defaultValue:e.props.activeDates[1].format("YYYY-MM-DD")}))),o.a.createElement("div",{className:"opts"},e.props.dateOpts.map((function(t,a){var n=e.props.activeDateOpt===a;return o.a.createElement("div",{key:a,className:"opt ".concat(n?"active":""),onClick:n?null:function(){return e.props.onDateChange("opt",a)}},t.range_count,o.a.createElement("span",null,t.range_type))}))),o.a.createElement("div",{className:"hideBanner",onClick:e.hideMenu},W)),o.a.createElement(oe,{key:"history",show:e.state.showHistory,history:e.props.history,close:e.hideHistory,mobile:!0})]},e}return a}(l.Component);a(378);var fe=a(379),ve="https://raw.githubusercontent.com/DerTarchin/misc/master/.dpd",he=function(e){return"Enter"===(e.key||e.keyCode)||13===e.which},ye=j()(),ge=[{range_count:"1",range_type:"M",start:ye.clone().subtract(1,"months"),end:ye},{range_count:"3",range_type:"M",start:ye.clone().subtract(3,"months"),end:ye},{range_count:"1",range_type:"Y",start:ye.clone().subtract(12,"months"),end:ye},{range_count:"ALL",range_type:"",start:j()("2000-1-1"),end:ye}],be=function(e){Object(c.a)(l,e);var t=Object(i.a)(l);function l(){var e;Object(s.a)(this,l);for(var c=arguments.length,i=new Array(c),d=0;d<c;d++)i[d]=arguments[d];return(e=t.call.apply(t,[this].concat(i))).state={data:null,encrypted:!0,unlockError:"",showUnlock:!0,lastDay:ye,activeDateOpt:0,activeDates:[ge[0].start,ge[0].end],feeAdjustments:!0,contributionAdjustments:!1,dataView:"%"},e.meta={},e.componentWillMount=function(){window.addEventListener("orientationchange",(function(){return e.setState({mobileOrientation:window.orientation})}),!1)},e.componentDidMount=function(){fe(ve,(function(t,a,n){!t&&n||alert(t),e.meta.encryptedMsg=JSON.parse(n).encryptedMsg,setTimeout((function(){return e.unlock("dpdev")}),500)})),e.state.encrypted&&(e.meta.loginAnime=Object(te.a)({targets:e.refs.unlock,opacity:[0,1],easing:"easeInQuad",duration:1e3}),e.refs.unlockInput.focus())},e.unlock=function(t){if(!t||!e.state.encrypted)return e.refs.unlockInput.focus();if(!e.meta.encryptedMsg)return e.refs.unlockInput.focus(),void e.setState({unlockError:"Unable to retrieve data."});var a=f(e.meta.encryptedMsg,t);if(!a)return e.refs.unlockInput.clearContent(),e.refs.unlockInput.focus(),void e.setState({unlockError:"Incorrect passphrase."});console.log("%cLast scraped: "+j()(a.dertarchinroth.meta.timestamp).format("MMMM Do YYYY, h:mm:ss a"),"font-style: italic");var n=Object.keys(a),r=n[0];e.meta.decryptedMsg=a,e.meta.acctData=a[r];for(var s=e.meta.acctData,c=j()(s.meta.last_updated,"L");!c.day()||6===c.day()||!s[c.format("L")];)c.subtract(1,"days");var i=j()(s.meta.start_date,"L");ge[0].start=c.clone().subtract(1,"months"),ge[1].start=c.clone().subtract(3,"months"),ge[2].start=c.clone().subtract(1,"years"),ge[3].start=i,ge.forEach((function(e){e.start.isBefore(i)&&(e.start=i),e.end=c})),s.meta.symbols_traded=s.meta.symbols_traded.sort((function(e,t){return e<t?-1:1})),e.adjData(),e.setState({activeData:e.trimData([ge[0].start,ge[0].end]),activeDates:[ge[0].start,ge[0].end],accounts:n,activeAccount:r,lastDay:c,encrypted:!1},(function(){e.meta.loginAnime=Object(te.a)({targets:e.refs.unlock,opacity:[1,0],easing:"easeOutQuad",duration:500,complete:function(t){return e.setState({showUnlock:!1})}})}))},e.hideUnlockError=function(t){t.target.classList.add("hide"),e.refs.unlockInput.focus(),setTimeout((function(){return e.setState({unlockError:""})}),150)},e.trimData=function(t){t=t||e.state.activeDates;for(var a=e.meta.acctData,n={meta:a.meta},r=t[0].clone();r.isSameOrBefore(t[1],"days");r.add(1,"days")){var s=r.format("L");n[s]=a[s]}return n},e.adjData=function(t){for(var a,n=e.meta.acctData,r=t||e.state,s=r.feeAdjustments,c=r.contributionAdjustments,i=j()(n.meta.last_updated,"L"),l=j()(n.meta.start_date,"L");i.isSameOrAfter(l,"days");){var o=n[i.format("L")];o&&(a||(a=o.total_contributions),t={balance:o.balance,cash_balance:o.cash_balance,total_contributions:o.total_contributions},s||(t.balance+=o.total_fees,t.cash_balance+=o.total_fees),c&&(t.balance+=a-o.total_contributions,t.cash_balance+=a-o.total_contributions,t.total_contributions=a),t.pl=t.balance-t.total_contributions-o.vts_fees,t.plPerc=t.pl/(t.total_contributions+o.vts_fees)*100,o.adj=t),i.subtract(1,"days")}},e.onDateChange=function(t,a,n){for(var r="opt"===t,s=r?a:-1,c=r?[ge[a].start,ge[a].end]:a;!e.meta.acctData[c[0].format("L")];)c[0].add(1,"days");for(;!e.meta.acctData[c[1].format("L")];)c[1].subtract(1,"days");r||ge.forEach((function(e,t){s>-1||e.start.isSame(c[0],"days")&&e.end.isSame(c[1],"days")&&(s=t)}));var i=e.trimData(c);e.setState({activeDateOpt:s,activeDates:c,activeData:i},n)},e.onSettingsChange=function(t,a){e.adjData(Object(r.a)(Object(r.a)({},e.state),{},Object(n.a)({},t,a))),e.setState(Object(n.a)({},t,a))},e.render=function(){var t=window.screen.width<=767,n=e.state.encrypted?{}:{data:e.state.activeData,history:e.meta.acctData,lastDay:e.state.lastDay,dateOpts:ge,activeDateOpt:e.state.activeDateOpt,activeDates:e.state.activeDates,onDateChange:e.onDateChange,dataView:e.state.dataView,feeAdjustments:e.state.feeAdjustments,contributionAdjustments:e.state.contributionAdjustments,onSettingsChange:e.onSettingsChange};return o.a.createElement("div",{className:"app ".concat(t?"mobile":""," ").concat(""),id:"app",key:e.state.mobileOrientation,style:{background:"rgba(0,0,0,.15)"}},e.state.showUnlock?o.a.createElement("div",{ref:"unlock",className:"unlock"},o.a.createElement("img",{className:"logo",alt:"",src:a(608)}),o.a.createElement(V,{ref:"unlockInput",className:"input",onKeyDown:function(t){he(t)&&e.unlock(t.target.textContent)}}),e.state.unlockError?o.a.createElement("div",{className:"unlock-error",onClick:e.hideUnlockError},e.state.unlockError):null):null,e.state.encrypted?null:t?o.a.createElement(pe,n):o.a.createElement(de,n),o.a.createElement("div",{className:"rotate"},z))},e}return l}(l.Component);m.a.render(o.a.createElement(be,null),document.getElementById("root"))}},[[241,1,2]]]);
//# sourceMappingURL=main.6c8f04ed.chunk.js.map